public class TowerAbove extends CardImpl {°Ïpublic TowerAbove(UUID ownerId) {°Ïsuper(ownerId, 131, "Tower Above", Rarity.UNCOMMON, new CardType[]{CardType.SORCERY}, "{2/G}{2/G}{2/G}");°Ïthis.expansionSetCode = "SHM";°Ïthis.getSpellAbility().addEffect(new TowerAboveEffect());°Ïthis.getSpellAbility().addTarget(new TargetCreaturePermanent());°Ï}°Ïpublic TowerAbove(final TowerAbove card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic TowerAbove copy() {°Ïreturn new TowerAbove(this);°Ï}°Ï}°Ïclass TowerAboveEffect extends OneShotEffect {°Ïpublic TowerAboveEffect() {°Ïsuper(Outcome.BoostCreature);°ÏstaticText = "Until end of turn, target creature gets +4/+4 and gains trample, wither, and \"When this creature attacks, target creature blocks it this turn if able.";°Ï}°Ïpublic TowerAboveEffect(final TowerAboveEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPermanent target = game.getPermanent(source.getFirstTarget());°Ïif (target == null) {°Ïreturn false;°Ï}°ÏContinuousEffect effect = new BoostTargetEffect(4, 4, Duration.EndOfTurn);°ÏContinuousEffect effect2 = new GainAbilityTargetEffect(TrampleAbility.getInstance(), Duration.EndOfTurn);°ÏContinuousEffect effect3 = new GainAbilityTargetEffect(WitherAbility.getInstance(), Duration.EndOfTurn);°ÏContinuousEffect effect4 = new GainAbilityTargetEffect(new TowerAboveTriggeredAbility(), Duration.EndOfTurn);°Ïeffect.setTargetPointer(new FixedTarget(target.getId()));°Ïeffect2.setTargetPointer(new FixedTarget(target.getId()));°Ïeffect3.setTargetPointer(new FixedTarget(target.getId()));°Ïeffect4.setTargetPointer(new FixedTarget(target.getId()));°Ïeffect4.setText("");°Ïgame.addEffect(effect, source);°Ïgame.addEffect(effect2, source);°Ïgame.addEffect(effect3, source);°Ïgame.addEffect(effect4, source);°Ïreturn true;°Ï}°Ï@Override°Ïpublic TowerAboveEffect copy() {°Ïreturn new TowerAboveEffect(this);°Ï}°Ï}°Ïclass TowerAboveTriggeredAbility extends TriggeredAbilityImpl {°Ïpublic TowerAboveTriggeredAbility() {°Ïsuper(Zone.BATTLEFIELD, new MustBeBlockedByTargetSourceEffect(Duration.EndOfTurn), false);°Ï}°Ïpublic TowerAboveTriggeredAbility(final TowerAboveTriggeredAbility ability) {°Ïsuper(ability);°Ï}°Ï@Override°Ïpublic boolean checkEventType(GameEvent event, Game game) {°Ïreturn event.getType() == EventType.ATTACKER_DECLARED;°Ï}°Ï@Override°Ïpublic boolean checkTrigger(GameEvent event, Game game) {°Ïif (event.getSourceId().equals(this.getSourceId())) {°Ïthis.getTargets().clear();°ÏTargetCreaturePermanent target = new TargetCreaturePermanent();°Ïthis.addTarget(target);°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic String getRule() {°Ïreturn "Whenever this creature attacks, target creature blocks it this turn if able.";°Ï}°Ï@Override°Ïpublic TowerAboveTriggeredAbility copy() {°Ïreturn new TowerAboveTriggeredAbility(this);°Ï}°Ï}°Ï
