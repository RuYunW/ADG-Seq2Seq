public class Gloomlance extends CardImpl {°Ïpublic Gloomlance(UUID ownerId) {°Ïsuper(ownerId, 67, "Gloomlance", Rarity.COMMON, new CardType[]{CardType.SORCERY}, "{3}{B}{B}");°Ïthis.expansionSetCode = "SHM";°Ïthis.getSpellAbility().addTarget(new TargetCreaturePermanent());°Ïthis.getSpellAbility().addEffect(new GloomlanceEffect());°Ï}°Ïpublic Gloomlance(final Gloomlance card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic Gloomlance copy() {°Ïreturn new Gloomlance(this);°Ï}°Ï}°Ïclass GloomlanceEffect extends OneShotEffect {°Ïpublic GloomlanceEffect() {°Ïsuper(Outcome.DestroyPermanent);°Ïthis.staticText = "Destroy target creature. If that creature was green or white, its controller discards a card";°Ï}°Ïpublic GloomlanceEffect(final GloomlanceEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic GloomlanceEffect copy() {°Ïreturn new GloomlanceEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPermanent targetCreature = game.getPermanent(getTargetPointer().getFirst(game, source));°Ïif (targetCreature != null) {°ÏPlayer targetController = game.getPlayer(targetCreature.getControllerId());°ÏtargetCreature.destroy(source.getSourceId(), game, false);°ÏPermanent destroyedCreature = game.getPermanentOrLKIBattlefield(source.getFirstTarget());°Ïif (destroyedCreature.getColor(game).isGreen()°Ï|| destroyedCreature.getColor(game).isWhite()) {°ÏtargetController.discard(1, false, source, game);°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï}°Ï
