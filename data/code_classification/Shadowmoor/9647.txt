public class WheelOfSunAndMoon extends CardImpl {°Ïpublic WheelOfSunAndMoon(UUID ownerId) {°Ïsuper(ownerId, 243, "Wheel of Sun and Moon", Rarity.RARE, new CardType[]{CardType.ENCHANTMENT}, "{G/W}{G/W}");°Ïthis.expansionSetCode = "SHM";°Ïthis.subtype.add("Aura");°ÏTargetPlayer auraTarget = new TargetPlayer();°Ïthis.getSpellAbility().addTarget(auraTarget);°Ïthis.getSpellAbility().addEffect(new AttachEffect(Outcome.Detriment));°Ïthis.addAbility(new EnchantAbility(auraTarget.getTargetName()));°Ïthis.addAbility(new SimpleStaticAbility(Zone.BATTLEFIELD, new WheelOfSunAndMoonEffect()));°Ï}°Ïpublic WheelOfSunAndMoon(final WheelOfSunAndMoon card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic WheelOfSunAndMoon copy() {°Ïreturn new WheelOfSunAndMoon(this);°Ï}°Ï}°Ïclass WheelOfSunAndMoonEffect extends ReplacementEffectImpl {°Ïpublic WheelOfSunAndMoonEffect() {°Ïsuper(Duration.WhileOnBattlefield, Outcome.Detriment);°ÏstaticText = "If a card would be put into enchanted player's graveyard from anywhere, instead that card is revealed and put on the bottom of that player's library";°Ï}°Ïpublic WheelOfSunAndMoonEffect(final WheelOfSunAndMoonEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic WheelOfSunAndMoonEffect copy() {°Ïreturn new WheelOfSunAndMoonEffect(this);°Ï}°Ï@Override°Ïpublic boolean checksEventType(GameEvent event, Game game) {°Ïreturn event.getType() == EventType.ZONE_CHANGE;°Ï}°Ï@Override°Ïpublic boolean applies(GameEvent event, Ability source, Game game) {°ÏZoneChangeEvent zEvent = (ZoneChangeEvent) event;°Ïif (zEvent.getToZone().equals(Zone.GRAVEYARD)) {°ÏCard card = game.getCard(event.getTargetId());°Ïif (card != null) {°ÏPermanent enchantment = game.getPermanent(source.getSourceId());°Ïif (enchantment != null && enchantment.getAttachedTo() != null°Ï&& card.getOwnerId().equals(enchantment.getAttachedTo())) {°Ïreturn true;°Ï}°Ï}°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic boolean replaceEvent(GameEvent event, Ability source, Game game) {°ÏPlayer controller = game.getPlayer(source.getControllerId());°ÏMageObject sourceObject = game.getObject(source.getSourceId());°Ïif (controller != null && sourceObject != null) {°ÏCard card = game.getCard(event.getTargetId());°Ïif (card != null) {°ÏCards cards = new CardsImpl(card);°Ïcontroller.revealCards(sourceObject.getIdName(), cards, game);°Ïcontroller.putCardsOnBottomOfLibrary(cards, game, source, false);°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï}°Ï
