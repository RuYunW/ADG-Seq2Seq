public class CemeteryPuca extends CardImpl {°Ïpublic CemeteryPuca(UUID ownerId) {°Ïsuper(ownerId, 158, "Cemetery Puca", Rarity.RARE, new CardType[]{CardType.CREATURE}, "{1}{U/B}{U/B}");°Ïthis.expansionSetCode = "SHM";°Ïthis.subtype.add("Shapeshifter");°Ïthis.power = new MageInt(1);°Ïthis.toughness = new MageInt(2);°Ïthis.addAbility(new DiesCreatureTriggeredAbility(new DoIfCostPaid(new CemeteryPucaEffect(), new ManaCostsImpl("{1}")), false, new FilterCreaturePermanent("a creature"), true));°Ï}°Ïpublic CemeteryPuca(final CemeteryPuca card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic CemeteryPuca copy() {°Ïreturn new CemeteryPuca(this);°Ï}°Ï}°Ïclass CemeteryPucaEffect extends OneShotEffect {°Ïpublic CemeteryPucaEffect() {°Ïsuper(Outcome.Copy);°ÏstaticText = " {this} becomes a copy of that creature and gains this ability";°Ï}°Ïpublic CemeteryPucaEffect(final CemeteryPucaEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic CemeteryPucaEffect copy() {°Ïreturn new CemeteryPucaEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPermanent copyToCreature = game.getPermanent(source.getSourceId());°Ïif (copyToCreature != null) {°ÏPermanent copyFromCreature = (Permanent) game.getLastKnownInformation(targetPointer.getFirst(game, source), Zone.BATTLEFIELD);°Ïif (copyFromCreature != null) {°Ïgame.copyPermanent(Duration.WhileOnBattlefield, copyFromCreature, copyToCreature.getId(), source, new EmptyApplyToPermanent());°ÏContinuousEffect effect = new GainAbilityTargetEffect(new DiesCreatureTriggeredAbility(new DoIfCostPaid(new CemeteryPucaEffect(), new ManaCostsImpl("{1}")), false, new FilterCreaturePermanent("a creature"), true), Duration.WhileOnBattlefield);°Ïeffect.setTargetPointer(new FixedTarget(copyToCreature.getId()));°Ïgame.addEffect(effect, source);°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï}°Ï
