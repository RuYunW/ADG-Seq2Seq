public class ThoughtweftGambit extends CardImpl {°Ïpublic ThoughtweftGambit(UUID ownerId) {°Ïsuper(ownerId, 154, "Thoughtweft Gambit", Rarity.UNCOMMON, new CardType[]{CardType.INSTANT}, "{4}{W/U}{W/U}");°Ïthis.expansionSetCode = "SHM";°Ïthis.getSpellAbility().addEffect(new ThoughtweftGambitEffect());°Ï}°Ïpublic ThoughtweftGambit(final ThoughtweftGambit card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic ThoughtweftGambit copy() {°Ïreturn new ThoughtweftGambit(this);°Ï}°Ï}°Ïclass ThoughtweftGambitEffect extends OneShotEffect {°Ïprivate static FilterCreaturePermanent filter = new FilterCreaturePermanent();°Ïpublic ThoughtweftGambitEffect() {°Ïsuper(Outcome.Benefit);°ÏstaticText = "Tap all creatures your opponents control and untap all creatures you control";°Ï}°Ïpublic ThoughtweftGambitEffect(final ThoughtweftGambitEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏBoolean passed = false;°ÏSet<UUID> opponents = game.getOpponents(source.getControllerId());°ÏPlayer controller = game.getPlayer(source.getControllerId());°Ïif (opponents != null) {°Ïfor (Permanent creature : game.getBattlefield().getActivePermanents(filter, source.getControllerId(), game)) {°Ïif (opponents.contains(creature.getControllerId())) {°Ïcreature.tap(game);°Ï}°Ï}°Ïpassed = true;°Ï}°Ïif (controller != null) {°Ïfor (Permanent creature : game.getBattlefield().getActivePermanents(filter, source.getControllerId(), game)) {°Ïif (controller.getId().equals(creature.getControllerId())) {°Ïcreature.untap(game);°Ï}°Ï}°Ïpassed = true;°Ï}°Ïreturn passed;°Ï}°Ï@Override°Ïpublic ThoughtweftGambitEffect copy() {°Ïreturn new ThoughtweftGambitEffect(this);°Ï}°Ï}°Ï
