public class GloomwidowsFeast extends CardImpl {°Ïprivate static final FilterCreaturePermanent filter = new FilterCreaturePermanent("target creature with flying");°Ïstatic {°Ïfilter.add(new AbilityPredicate(FlyingAbility.class));°Ï}°Ïpublic GloomwidowsFeast(UUID ownerId) {°Ïsuper(ownerId, 118, "Gloomwidow's Feast", Rarity.COMMON, new CardType[]{CardType.INSTANT}, "{3}{G}");°Ïthis.expansionSetCode = "SHM";°Ïthis.getSpellAbility().addEffect(new GloomwidowsFeastEffect());°Ïthis.getSpellAbility().addTarget(new TargetPermanent(filter));°Ï}°Ïpublic GloomwidowsFeast(final GloomwidowsFeast card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic GloomwidowsFeast copy() {°Ïreturn new GloomwidowsFeast(this);°Ï}°Ï}°Ïclass GloomwidowsFeastEffect extends OneShotEffect {°Ïboolean applied = false;°Ïpublic GloomwidowsFeastEffect() {°Ïsuper(Outcome.DestroyPermanent);°Ïthis.staticText = "Destroy target creature with flying. If that creature was blue or black, put a 1/2 green Spider creature token with reach onto the battlefield";°Ï}°Ïpublic GloomwidowsFeastEffect(final GloomwidowsFeastEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic GloomwidowsFeastEffect copy() {°Ïreturn new GloomwidowsFeastEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPermanent targetCreature = game.getPermanent(source.getFirstTarget());°Ïif (targetCreature != null) {°ÏtargetCreature.destroy(source.getSourceId(), game, false);°ÏPermanent destroyedCreature = game.getPermanentOrLKIBattlefield(source.getFirstTarget());°Ïif (destroyedCreature.getColor(game).isBlue()°Ï|| destroyedCreature.getColor(game).isBlack()) {°ÏSpiderToken token = new SpiderToken();°Ïtoken.putOntoBattlefield(1, game, source.getSourceId(), source.getControllerId());°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï}°Ï
