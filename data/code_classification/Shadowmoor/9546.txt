public class Mirrorweave extends CardImpl {°Ïprivate static final FilterCreaturePermanent filter = new FilterCreaturePermanent("nonlegendary creature");°Ïstatic {°Ïfilter.add(Predicates.not(new SupertypePredicate("Legendary")));°Ï}°Ïpublic Mirrorweave(UUID ownerId) {°Ïsuper(ownerId, 143, "Mirrorweave", Rarity.RARE, new CardType[]{CardType.INSTANT}, "{2}{W/U}{W/U}");°Ïthis.expansionSetCode = "SHM";°Ïthis.getSpellAbility().addEffect(new MirrorWeaveEffect());°Ïthis.getSpellAbility().addTarget(new TargetPermanent(filter));°Ï}°Ïpublic Mirrorweave(final Mirrorweave card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic Mirrorweave copy() {°Ïreturn new Mirrorweave(this);°Ï}°Ï}°Ïclass MirrorWeaveEffect extends OneShotEffect {°Ïpublic MirrorWeaveEffect() {°Ïsuper(Outcome.Copy);°Ïthis.staticText = "Each other creature becomes a copy of target nonlegendary creature until end of turn";°Ï}°Ïpublic MirrorWeaveEffect(final MirrorWeaveEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic MirrorWeaveEffect copy() {°Ïreturn new MirrorWeaveEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer controller = game.getPlayer(source.getControllerId());°ÏFilterCreaturePermanent filter = new FilterCreaturePermanent();°Ïif (controller != null) {°ÏPermanent copyFromCreature = game.getPermanentOrLKIBattlefield(source.getFirstTarget());°Ïif (copyFromCreature != null) {°Ïfilter.add(Predicates.not(new PermanentIdPredicate(copyFromCreature.getId())));°Ïfor (Permanent copyToCreature : game.getBattlefield().getAllActivePermanents(filter, game)) {°Ïif (copyToCreature != null) {°Ïgame.copyPermanent(Duration.EndOfTurn, copyFromCreature, copyToCreature.getId(), source, new EmptyApplyToPermanent());°Ï}°Ï}°Ï}°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï}°Ï
