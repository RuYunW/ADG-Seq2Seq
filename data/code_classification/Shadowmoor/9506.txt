public class Heartmender extends CardImpl {¡ìpublic Heartmender(UUID ownerId) {¡ìsuper(ownerId, 228, "Heartmender", Rarity.RARE, new CardType[]{CardType.CREATURE}, "{2}{G/W}{G/W}");¡ìthis.expansionSetCode = "SHM";¡ìthis.subtype.add("Elemental");¡ìthis.power = new MageInt(2);¡ìthis.toughness = new MageInt(2);¡ìthis.addAbility(new BeginningOfUpkeepTriggeredAbility(new HeartmenderEffect(CounterType.M1M1.createInstance()), TargetController.YOU, false));¡ìthis.addAbility(new PersistAbility());¡ì}¡ìpublic Heartmender(final Heartmender card) {¡ìsuper(card);¡ì}¡ì@Override¡ìpublic Heartmender copy() {¡ìreturn new Heartmender(this);¡ì}¡ì}¡ìclass HeartmenderEffect extends OneShotEffect {¡ìprivate final Counter counter;¡ìpublic HeartmenderEffect(Counter counter) {¡ìsuper(Outcome.BoostCreature);¡ìthis.counter = counter;¡ìstaticText = "remove a -1/-1 counter from each creature you control";¡ì}¡ìpublic HeartmenderEffect(HeartmenderEffect effect) {¡ìsuper(effect);¡ìthis.counter = effect.counter.copy();¡ì}¡ì@Override¡ìpublic boolean apply(Game game, Ability source) {¡ìboolean applied = false;¡ìFilterControlledCreaturePermanent filter = new FilterControlledCreaturePermanent();¡ìif (game.getBattlefield().getActivePermanents(filter, source.getControllerId(), game).isEmpty()) {¡ìreturn true;¡ì}¡ìfor (Permanent creature : game.getBattlefield().getActivePermanents(filter, source.getControllerId(), game)) {¡ìif (creature != null¡ì&& creature.getCounters().getCount(counter.getName()) >= counter.getCount()) {¡ìcreature.removeCounters(counter.getName(), counter.getCount(), game);¡ìgame.informPlayers(new StringBuilder("Removed ").append(counter.getCount()).append(" ").append(counter.getName())¡ì.append(" counter from ").append(creature.getName()).toString());¡ìapplied = true;¡ì}¡ì}¡ìreturn applied;¡ì}¡ì@Override¡ìpublic HeartmenderEffect copy() {¡ìreturn new HeartmenderEffect(this);¡ì}¡ì}¡ì
