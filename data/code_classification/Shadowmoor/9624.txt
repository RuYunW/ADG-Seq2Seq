public class SwansOfBrynArgoll extends CardImpl {°Ïpublic SwansOfBrynArgoll(UUID ownerId) {°Ïsuper(ownerId, 151, "Swans of Bryn Argoll", Rarity.RARE, new CardType[]{CardType.CREATURE}, "{2}{W/U}{W/U}");°Ïthis.expansionSetCode = "SHM";°Ïthis.subtype.add("Bird");°Ïthis.subtype.add("Spirit");°Ïthis.power = new MageInt(4);°Ïthis.toughness = new MageInt(3);°Ïthis.addAbility(FlyingAbility.getInstance());°Ïthis.addAbility(new SimpleStaticAbility(Zone.BATTLEFIELD, new SwansOfBrynArgollEffect()));°Ï}°Ïpublic SwansOfBrynArgoll(final SwansOfBrynArgoll card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic SwansOfBrynArgoll copy() {°Ïreturn new SwansOfBrynArgoll(this);°Ï}°Ï}°Ïclass SwansOfBrynArgollEffect extends PreventionEffectImpl {°ÏSwansOfBrynArgollEffect() {°Ïsuper(Duration.WhileOnBattlefield, Integer.MAX_VALUE, false, false);°ÏstaticText = "If a source would deal damage to {this}, prevent that damage. The source's controller draws cards equal to the damage prevented this way";°Ï}°ÏSwansOfBrynArgollEffect(final SwansOfBrynArgollEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean replaceEvent(GameEvent event, Ability source, Game game) {°ÏPreventionEffectData preventionEffectData = preventDamageAction(event, source, game);°Ïif (preventionEffectData.getPreventedDamage() > 0) {°ÏBoolean passed = false;°ÏMageObject sourceOfDamage = game.getObject(event.getSourceId());°Ïif (sourceOfDamage != null) {°ÏSpell spell = game.getStack().getSpell(sourceOfDamage.getId());°ÏPermanent permanent = game.getPermanentOrLKIBattlefield(sourceOfDamage.getId());°Ïif (spell != null) {°ÏPlayer controllerOfSpell = game.getPlayer(spell.getControllerId());°ÏcontrollerOfSpell.drawCards(preventionEffectData.getPreventedDamage(), game);°Ïpassed = true;°Ï}°Ïif (permanent != null) {°ÏPlayer controllerOfPermanent = game.getPlayer(permanent.getControllerId());°ÏcontrollerOfPermanent.drawCards(preventionEffectData.getPreventedDamage(), game);°Ïpassed = true;°Ï}°Ïif (!passed) {°ÏCard cardSource = game.getCard(event.getSourceId());°Ïif (cardSource != null) {°ÏPlayer owner = game.getPlayer(cardSource.getOwnerId());°Ïif (owner != null) {°Ïowner.drawCards(preventionEffectData.getPreventedDamage(), game);°Ï}°Ï}°Ï}°Ï}°Ï}°Ïreturn preventionEffectData.isReplaced();°Ï}°Ï@Override°Ïpublic boolean applies(GameEvent event, Ability source, Game game) {°Ïreturn event.getType() == EventType.DAMAGE_CREATURE°Ï&& event.getTargetId().equals(source.getSourceId());°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°Ïreturn true;°Ï}°Ï@Override°Ïpublic SwansOfBrynArgollEffect copy() {°Ïreturn new SwansOfBrynArgollEffect(this);°Ï}°Ï}°Ï
