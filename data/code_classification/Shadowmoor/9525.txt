public class KnollspineDragon extends CardImpl {°Ïpublic KnollspineDragon(UUID ownerId) {°Ïsuper(ownerId, 98, "Knollspine Dragon", Rarity.RARE, new CardType[]{CardType.CREATURE}, "{5}{R}{R}");°Ïthis.expansionSetCode = "SHM";°Ïthis.subtype.add("Dragon");°Ïthis.power = new MageInt(7);°Ïthis.toughness = new MageInt(5);°Ïthis.addAbility(FlyingAbility.getInstance());°ÏAbility ability = new EntersBattlefieldTriggeredAbility(new KnollspineDragonEffect(), true);°Ïability.addTarget(new TargetOpponent());°Ïthis.addAbility(ability, new AmountOfDamageAPlayerReceivedThisTurnWatcher());°Ï}°Ïpublic KnollspineDragon(final KnollspineDragon card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic KnollspineDragon copy() {°Ïreturn new KnollspineDragon(this);°Ï}°Ï}°Ïclass KnollspineDragonEffect extends OneShotEffect {°Ïpublic KnollspineDragonEffect() {°Ïsuper(Outcome.Neutral);°ÏstaticText = "you may discard your hand and draw cards equal to the damage dealt to target opponent this turn";°Ï}°Ïpublic KnollspineDragonEffect(KnollspineDragonEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer controller = game.getPlayer(source.getControllerId());°ÏPlayer targetOpponent = game.getPlayer(targetPointer.getFirst(game, source));°Ïif (controller != null) {°Ïnew DiscardHandControllerEffect().apply(game, source);°Ïif (targetOpponent != null) {°ÏAmountOfDamageAPlayerReceivedThisTurnWatcher watcher = (AmountOfDamageAPlayerReceivedThisTurnWatcher) game.getState().getWatchers().get("AmountOfDamageReceivedThisTurn");°Ïif (watcher != null) {°Ïint drawAmount = watcher.getAmountOfDamageReceivedThisTurn(targetOpponent.getId());°Ïcontroller.drawCards(drawAmount, game);°Ïgame.informPlayers(controller.getLogName() + "draws " + drawAmount + " cards");°Ïreturn true;°Ï}°Ï}°Ïgame.informPlayers(controller.getLogName() + "drew no cards");°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic KnollspineDragonEffect copy() {°Ïreturn new KnollspineDragonEffect(this);°Ï}°Ï}°Ï
