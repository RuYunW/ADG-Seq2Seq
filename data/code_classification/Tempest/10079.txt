public class HelmOfPossession extends CardImpl {°Ïpublic HelmOfPossession(UUID ownerId) {°Ïsuper(ownerId, 281, "Helm of Possession", Rarity.RARE, new CardType[]{CardType.ARTIFACT}, "{4}");°Ïthis.expansionSetCode = "TMP";°Ïthis.addAbility(new SkipUntapOptionalAbility());°ÏConditionalContinuousEffect effect = new ConditionalContinuousEffect(°Ïnew GainControlTargetEffect(Duration.Custom),°Ïnew HelmOfPossessionCondition(),°Ï"Gain control of target creature for as long as you control {this} and {this} remains tapped");°ÏAbility ability = new SimpleActivatedAbility(Zone.BATTLEFIELD, effect, new GenericManaCost(2));°Ïability.addCost(new TapSourceCost());°Ïability.addTarget(new TargetCreaturePermanent());°Ïability.addCost(new SacrificeTargetCost(new TargetControlledCreaturePermanent()));°Ïthis.addAbility(ability);°Ï}°Ïpublic HelmOfPossession(final HelmOfPossession card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic HelmOfPossession copy() {°Ïreturn new HelmOfPossession(this);°Ï}°Ï}°Ïclass HelmOfPossessionCondition implements Condition {°Ïprivate UUID controllerId;°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°Ïif (controllerId == null) {°ÏcontrollerId = source.getControllerId();°Ï}°ÏPermanent permanent = game.getBattlefield().getPermanent(source.getSourceId());°Ïif (permanent != null) {°Ïif (permanent.isTapped()) {°Ïreturn controllerId.equals(source.getControllerId());°Ï}°Ï}°Ïreturn false;°Ï}°Ï}°Ï
