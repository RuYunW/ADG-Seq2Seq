public class Extinction extends CardImpl {°Ïpublic Extinction(UUID ownerId) {°Ïsuper(ownerId, 29, "Extinction", Rarity.RARE, new CardType[]{CardType.SORCERY}, "{4}{B}");°Ïthis.expansionSetCode = "TMP";°Ïthis.getSpellAbility().addEffect(new ExtinctionEffect());°Ï}°Ïpublic Extinction(final Extinction card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic Extinction copy() {°Ïreturn new Extinction(this);°Ï}°Ï}°Ïclass ExtinctionEffect extends OneShotEffect {°Ïpublic ExtinctionEffect() {°Ïsuper(Outcome.UnboostCreature);°ÏstaticText = "Destroy all creatures of the creature type of your choice";°Ï}°Ïpublic ExtinctionEffect(final ExtinctionEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer player = game.getPlayer(source.getControllerId());°ÏMageObject sourceObject = game.getObject(source.getSourceId());°Ïif (player != null) {°ÏChoice typeChoice = new ChoiceImpl(true);°ÏtypeChoice.setMessage("Choose a creature type:");°ÏtypeChoice.setChoices(CardRepository.instance.getCreatureTypes());°Ïwhile (!player.choose(outcome, typeChoice, game)) {°Ïif (!player.canRespond()) {°Ïreturn false;°Ï}°Ï}°Ïif (typeChoice.getChoice() != null) {°Ïgame.informPlayers(sourceObject.getLogName() + " chosen type: " + typeChoice.getChoice());°Ï}°ÏFilterCreaturePermanent filterCreaturePermanent = new FilterCreaturePermanent();°ÏfilterCreaturePermanent.add(new SubtypePredicate(typeChoice.getChoice()));°Ïfor (Permanent creature : game.getBattlefield().getActivePermanents(filterCreaturePermanent, source.getSourceId(), game)) {°Ïcreature.destroy(source.getSourceId(), game, true);°Ï}°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic ExtinctionEffect copy() {°Ïreturn new ExtinctionEffect(this);°Ï}°Ï}°Ï
