public class Magmasaur extends CardImpl {°Ïpublic Magmasaur(UUID ownerId) {°Ïsuper(ownerId, 188, "Magmasaur", Rarity.RARE, new CardType[]{CardType.CREATURE}, "{3}{R}{R}");°Ïthis.expansionSetCode = "TMP";°Ïthis.subtype.add("Elemental");°Ïthis.subtype.add("Lizard");°Ïthis.power = new MageInt(0);°Ïthis.toughness = new MageInt(0);°Ïthis.addAbility(new EntersBattlefieldAbility(new AddCountersSourceEffect(CounterType.P1P1.createInstance(5)),°Ï"with five +1/+1 counters on it"));°Ïthis.addAbility(new BeginningOfUpkeepTriggeredAbility(Zone.BATTLEFIELD, new MagmasaurEffect(), TargetController.YOU, false, false));°Ï}°Ïpublic Magmasaur(final Magmasaur card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic Magmasaur copy() {°Ïreturn new Magmasaur(this);°Ï}°Ï}°Ïclass MagmasaurEffect extends OneShotEffect {°Ïprivate static final FilterCreaturePermanent filter = new FilterCreaturePermanent("creature without flying");°Ïstatic {°Ïfilter.add(Predicates.not(new AbilityPredicate(FlyingAbility.class)));°Ï}°Ïpublic MagmasaurEffect() {°Ïsuper(Outcome.Damage);°Ïthis.staticText = "you may remove a +1/+1 counter from {this}. If you don't, sacrifice {this} and it deals damage equal to the number of +1/+1 counters on it to each creature without flying and each player";°Ï}°Ïpublic MagmasaurEffect(final MagmasaurEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic MagmasaurEffect copy() {°Ïreturn new MagmasaurEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer controller = game.getPlayer(source.getControllerId());°ÏPermanent sourceObject = (Permanent)source.getSourceObjectIfItStillExists(game);°Ïif (sourceObject != null && controller != null) {°Ïif (controller.chooseUse(outcome, "Remove a +1/+1 counter from " + sourceObject.getLogName() + "?", source, game)) {°ÏsourceObject.getCounters().removeCounter(CounterType.P1P1, 1);°Ï} else {°Ïint counters = sourceObject.getCounters().getCount(CounterType.P1P1);°ÏsourceObject.sacrifice(source.getSourceId(), game);°Ïnew DamageEverythingEffect(counters, filter).apply(game, source);°Ï}°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï}°Ï
