public class CursedScroll extends CardImpl {°Ïpublic CursedScroll(UUID ownerId) {°Ïsuper(ownerId, 271, "Cursed Scroll", Rarity.RARE, new CardType[]{CardType.ARTIFACT}, "{1}");°Ïthis.expansionSetCode = "TMP";°ÏAbility ability = new SimpleActivatedAbility(Zone.BATTLEFIELD, new NameACardEffect(NameACardEffect.TypeOfName.ALL), new ManaCostsImpl("{3}"));°Ïability.addEffect(new CursedScrollEffect());°Ïability.addCost(new TapSourceCost());°Ïability.addTarget(new TargetCreatureOrPlayer());°Ïthis.addAbility(ability);°Ï}°Ïpublic CursedScroll(final CursedScroll card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic CursedScroll copy() {°Ïreturn new CursedScroll(this);°Ï}°Ï}°Ïclass CursedScrollEffect extends OneShotEffect {°Ïpublic CursedScrollEffect() {°Ïsuper(Outcome.Neutral);°ÏstaticText = "Reveal a card at random from your hand. If it's the named card, {this} deals 2 damage to target creature or player";°Ï}°Ïpublic CursedScrollEffect(final CursedScrollEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer controller = game.getPlayer(source.getControllerId());°ÏMageObject sourceObject = game.getObject(source.getSourceId());°ÏString cardName = (String) game.getState().getValue(source.getSourceId().toString() + NameACardEffect.INFO_KEY);°Ïif (sourceObject != null && controller != null && cardName != null && !cardName.isEmpty()) {°Ïif (controller.getHand().size() > 0) {°ÏCards revealed = new CardsImpl();°ÏCard card = controller.getHand().getRandom(game);°Ïrevealed.add(card);°Ïcontroller.revealCards(sourceObject.getIdName(), revealed, game);°Ïif (card.getName().equals(cardName)) {°ÏPermanent creature = game.getPermanent(targetPointer.getFirst(game, source));°Ïif (creature != null) {°Ïcreature.damage(2, source.getSourceId(), game, false, true);°Ïreturn true;°Ï}°ÏPlayer player = game.getPlayer(targetPointer.getFirst(game, source));°Ïif (player != null) {°Ïplayer.damage(2, source.getSourceId(), game, false, true);°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï}°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic CursedScrollEffect copy() {°Ïreturn new CursedScrollEffect(this);°Ï}°Ï}°Ï
