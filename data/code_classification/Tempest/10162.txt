public class ScrollRack extends CardImpl {¡ìpublic ScrollRack(UUID ownerId) {¡ìsuper(ownerId, 298, "Scroll Rack", Rarity.RARE, new CardType[]{CardType.ARTIFACT}, "{2}");¡ìthis.expansionSetCode = "TMP";¡ìAbility ability = new SimpleActivatedAbility(Zone.BATTLEFIELD, new ScrollRackEffect(), new GenericManaCost(1));¡ìability.addCost(new TapSourceCost());¡ìthis.addAbility(ability);¡ì}¡ìpublic ScrollRack(final ScrollRack card) {¡ìsuper(card);¡ì}¡ì@Override¡ìpublic ScrollRack copy() {¡ìreturn new ScrollRack(this);¡ì}¡ì}¡ìclass ScrollRackEffect extends OneShotEffect {¡ìpublic ScrollRackEffect() {¡ìsuper(Outcome.Neutral);¡ìstaticText = "Exile any number of cards from your hand face down. Put that many cards from the top of your library into your hand. Then look at the exiled cards and put them on top of your library in any order";¡ì}¡ìpublic ScrollRackEffect(final ScrollRackEffect effect) {¡ìsuper(effect);¡ì}¡ì@Override¡ìpublic boolean apply(Game game, Ability source) {¡ìPlayer controller = game.getPlayer(source.getControllerId());¡ìMageObject sourceObject = game.getObject(source.getSourceId());¡ìif (controller != null && sourceObject != null) {¡ìFilterCard filter = new FilterCard("card in your hand to exile");¡ìTargetCardInHand target = new TargetCardInHand(0, controller.getHand().size(), filter);¡ìtarget.setRequired(false);¡ìint amountExiled = 0;¡ìif (target.canChoose(source.getControllerId(), game) && target.choose(Outcome.Neutral, source.getControllerId(), source.getSourceId(), game)) {¡ìif (!target.getTargets().isEmpty()) {¡ìfor (UUID targetId : target.getTargets()) {¡ìCard card = game.getCard(targetId);¡ìif (card != null) {¡ìcard.setFaceDown(true, game);¡ìamountExiled++;¡ì}¡ì}¡ìcontroller.moveCardsToExile(new CardsImpl(target.getTargets()).getCards(game), source, game, false, source.getSourceId(), sourceObject.getIdName());¡ìfor (Card card : game.getExile().getExileZone(source.getSourceId()).getCards(game)) {¡ìcard.setFaceDown(true, game);¡ì}¡ì}¡ì}¡ìif (amountExiled > 0) {¡ìcontroller.moveCards(controller.getLibrary().getTopCards(game, amountExiled), Zone.HAND, source, game);¡ì}¡ìcontroller.putCardsOnTopOfLibrary(game.getExile().getExileZone(source.getSourceId()), game, source, true);¡ìreturn true;¡ì}¡ìreturn false;¡ì}¡ì@Override¡ìpublic ScrollRackEffect copy() {¡ìreturn new ScrollRackEffect(this);¡ì}¡ì}¡ì
