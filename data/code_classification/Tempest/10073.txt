public class HandToHand extends CardImpl {°Ïpublic HandToHand(UUID ownerId) {°Ïsuper(ownerId, 180, "Hand to Hand", Rarity.RARE, new CardType[]{CardType.ENCHANTMENT}, "{2}{R}");°Ïthis.expansionSetCode = "TMP";°Ïthis.addAbility(new SimpleStaticAbility(Zone.BATTLEFIELD, new HandToHandEffect()));°Ï}°Ïpublic HandToHand(final HandToHand card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic HandToHand copy() {°Ïreturn new HandToHand(this);°Ï}°Ï}°Ïclass HandToHandEffect extends ContinuousRuleModifyingEffectImpl {°Ïpublic HandToHandEffect() {°Ïsuper(Duration.WhileOnBattlefield, Outcome.Detriment);°ÏstaticText = "During combat, players can't cast instant spells or activate abilities that aren't mana abilities";°Ï}°Ïpublic HandToHandEffect(final HandToHandEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic HandToHandEffect copy() {°Ïreturn new HandToHandEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°Ïreturn true;°Ï}°Ï@Override°Ïpublic String getInfoMessage(Ability source, GameEvent event, Game game) {°ÏMageObject mageObject = game.getObject(source.getSourceId());°Ïif (mageObject != null) {°Ïreturn "During combat, players can't cast instant spells or activate abilities that aren't mana abilities (" + mageObject.getIdName() + ").";°Ï}°Ïreturn null;°Ï}°Ï@Override°Ïpublic boolean applies(GameEvent event, Ability source, Game game) {°Ïif (game.getPhase().getType() == TurnPhase.COMBAT) {°ÏMageObject object = game.getObject(event.getSourceId());°Ïif (event.getType() == GameEvent.EventType.CAST_SPELL) {°Ïif (object.getCardType().contains(CardType.INSTANT)) {°Ïreturn true;°Ï}°Ï}°Ïif (event.getType() == GameEvent.EventType.ACTIVATE_ABILITY) {°ÏAbility ability = game.getAbility(event.getTargetId(), event.getSourceId());°Ïif (ability != null && !(ability instanceof ManaAbility)) {°Ïreturn true;°Ï}°Ï}°Ï}°Ïreturn false;°Ï}°Ï}°Ï
