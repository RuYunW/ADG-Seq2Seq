public class StarkeOfRath extends CardImpl {°Ïprivate static final FilterPermanent filter = new FilterPermanent("artifact or creature");°Ïstatic {°Ïfilter.add(Predicates.or(°Ïnew CardTypePredicate(CardType.ARTIFACT),°Ïnew CardTypePredicate(CardType.CREATURE)));°Ï}°Ïpublic StarkeOfRath(UUID ownerId) {°Ïsuper(ownerId, 205, "Starke of Rath", Rarity.RARE, new CardType[]{CardType.CREATURE}, "{1}{R}{R}");°Ïthis.expansionSetCode = "TMP";°Ïthis.supertype.add("Legendary");°Ïthis.subtype.add("Human");°Ïthis.subtype.add("Rogue");°Ïthis.power = new MageInt(2);°Ïthis.toughness = new MageInt(2);°ÏAbility ability = new SimpleActivatedAbility(Zone.BATTLEFIELD, new StarkeOfRathEffect(), new TapSourceCost());°Ïability.addTarget(new TargetPermanent(filter));°Ïthis.addAbility(ability);°Ï}°Ïpublic StarkeOfRath(final StarkeOfRath card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic StarkeOfRath copy() {°Ïreturn new StarkeOfRath(this);°Ï}°Ï}°Ïclass StarkeOfRathEffect extends OneShotEffect {°Ïpublic StarkeOfRathEffect() {°Ïsuper(Outcome.DestroyPermanent);°Ïthis.staticText = "Destroy target artifact or creature. That permanent's controller gains control of {this}";°Ï}°Ïpublic StarkeOfRathEffect(final StarkeOfRathEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic StarkeOfRathEffect copy() {°Ïreturn new StarkeOfRathEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer controller = game.getPlayer(source.getControllerId());°Ïif (controller != null) {°ÏPermanent targetPermanent = game.getPermanent(getTargetPointer().getFirst(game, source));°Ïif (targetPermanent != null) {°ÏtargetPermanent.destroy(source.getSourceId(), game, false);°Ï}°ÏPermanent sourcePermanent = (Permanent) source.getSourceObjectIfItStillExists(game);°Ïif (sourcePermanent != null && targetPermanent != null) {°ÏContinuousEffect effect = new StarkeOfRathControlEffect();°Ïeffect.setTargetPointer(new FixedTarget(targetPermanent.getControllerId()));°Ïgame.addEffect(effect, source);°Ï}°Ï}°Ïreturn false;°Ï}°Ï}°Ïclass StarkeOfRathControlEffect extends ContinuousEffectImpl {°Ïpublic StarkeOfRathControlEffect() {°Ïsuper(Duration.Custom, Layer.ControlChangingEffects_2, SubLayer.NA, Outcome.GainControl);°ÏstaticText = "That permanent's controller gains control of {this}";°Ï}°Ïpublic StarkeOfRathControlEffect(final StarkeOfRathControlEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic StarkeOfRathControlEffect copy() {°Ïreturn new StarkeOfRathControlEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPermanent permanent = (Permanent) source.getSourceObjectIfItStillExists(game);°ÏPlayer controller = game.getPlayer(getTargetPointer().getFirst(game, source));°Ïif (permanent != null && controller != null) {°Ïreturn permanent.changeControllerId(getTargetPointer().getFirst(game, source), game);°Ï} else {°Ïdiscard();°Ï}°Ïreturn false;°Ï}°Ï}°Ï
