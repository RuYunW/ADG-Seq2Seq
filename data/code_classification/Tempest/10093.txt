public class LegacysAllure extends CardImpl {°Ïprivate final UUID originalId;°Ïpublic LegacysAllure(UUID ownerId) {°Ïsuper(ownerId, 71, "Legacy's Allure", Rarity.UNCOMMON, new CardType[]{CardType.ENCHANTMENT}, "{U}{U}");°Ïthis.expansionSetCode = "TMP";°Ïthis.addAbility(new BeginningOfUpkeepTriggeredAbility(new AddCountersSourceEffect(new Counter("treasure")), TargetController.YOU, true));°ÏAbility ability = new SimpleActivatedAbility(Zone.BATTLEFIELD, new GainControlTargetEffect(Duration.EndOfGame, true), new SacrificeSourceCost());°Ïability.addTarget(new TargetCreaturePermanent(new FilterCreaturePermanent("creature with power less than or equal to the number of treasure counters on " + getLogName())));°ÏoriginalId = ability.getOriginalId();°Ïthis.addAbility(ability);°Ï}°Ïpublic LegacysAllure(final LegacysAllure card) {°Ïsuper(card);°Ïthis.originalId = card.originalId;°Ï}°Ï@Override°Ïpublic void adjustTargets(Ability ability, Game game) {°Ïif (ability.getOriginalId().equals(originalId)) {°ÏPermanent sourcePermanent = game.getPermanent(ability.getSourceId());°Ïif (sourcePermanent != null) {°Ïint numbCounters = sourcePermanent.getCounters().getCount("treasure");°ÏFilterCreaturePermanent filter = new FilterCreaturePermanent("creature with power less than or equal to the number of treasure counters on " + getLogName());°Ïfilter.add(new PowerPredicate(Filter.ComparisonType.LessThan, numbCounters + 1));°Ïability.getTargets().clear();°Ïability.getTargets().add(new TargetCreaturePermanent(filter));°Ï}°Ï}°Ï}°Ï@Override°Ïpublic LegacysAllure copy() {°Ïreturn new LegacysAllure(this);°Ï}°Ï}°Ï
