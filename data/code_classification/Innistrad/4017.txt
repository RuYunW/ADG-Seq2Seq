public class ThrabenSentry extends CardImpl {°Ïpublic ThrabenSentry(UUID ownerId) {°Ïsuper(ownerId, 38, "Thraben Sentry", Rarity.COMMON, new CardType[]{CardType.CREATURE}, "{3}{W}");°Ïthis.expansionSetCode = "ISD";°Ïthis.subtype.add("Human");°Ïthis.subtype.add("Soldier");°Ïthis.canTransform = true;°Ïthis.secondSideCard = new ThrabenMilitia(ownerId);°Ïthis.power = new MageInt(2);°Ïthis.toughness = new MageInt(2);°Ïthis.addAbility(VigilanceAbility.getInstance());°Ïthis.addAbility(new TransformAbility());°Ïthis.addAbility(new ThrabenSentryTriggeredAbility());°Ï}°Ïpublic ThrabenSentry(final ThrabenSentry card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic ThrabenSentry copy() {°Ïreturn new ThrabenSentry(this);°Ï}°Ï}°Ïclass ThrabenSentryTriggeredAbility extends TriggeredAbilityImpl {°Ïpublic ThrabenSentryTriggeredAbility() {°Ïsuper(Zone.BATTLEFIELD, new TransformSourceEffect(true), true);°Ï}°Ïpublic ThrabenSentryTriggeredAbility(ThrabenSentryTriggeredAbility ability) {°Ïsuper(ability);°Ï}°Ï@Override°Ïpublic ThrabenSentryTriggeredAbility copy() {°Ïreturn new ThrabenSentryTriggeredAbility(this);°Ï}°Ï@Override°Ïpublic boolean checkEventType(GameEvent event, Game game) {°Ïreturn event.getType() == EventType.ZONE_CHANGE;°Ï}°Ï@Override°Ïpublic boolean checkTrigger(GameEvent event, Game game) {°ÏPermanent source = game.getPermanent(this.sourceId);°Ïif (source == null) {°Ïreturn false;°Ï}°ÏZoneChangeEvent zEvent = (ZoneChangeEvent) event;°ÏPermanent permanent = zEvent.getTarget();°Ïreturn permanent != null && permanent.getCardType().contains(CardType.CREATURE) &&°ÏzEvent.getToZone() == Zone.GRAVEYARD &&°ÏzEvent.getFromZone() == Zone.BATTLEFIELD &&°Ïpermanent.getControllerId().equals(this.getControllerId()) &&°Ï!source.isTransformed();°Ï}°Ï@Override°Ïpublic String getRule() {°Ïreturn "Whenever another creature you control dies, you may transform Thraben Sentry";°Ï}°Ï}°Ï
