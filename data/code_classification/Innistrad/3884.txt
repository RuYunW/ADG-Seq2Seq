public class GarrukRelentless extends CardImpl {°Ïpublic GarrukRelentless(UUID ownerId) {°Ïsuper(ownerId, 181, "Garruk Relentless", Rarity.MYTHIC, new CardType[]{CardType.PLANESWALKER}, "{3}{G}");°Ïthis.expansionSetCode = "ISD";°Ïthis.subtype.add("Garruk");°Ïthis.canTransform = true;°Ïthis.secondSideCard = new GarrukTheVeilCursed(ownerId);°Ïthis.addAbility(new PlanswalkerEntersWithLoyalityCountersAbility(3));°Ïthis.addAbility(new TransformAbility());°Ïthis.addAbility(new GarrukRelentlessTriggeredAbility());°ÏLoyaltyAbility ability1 = new LoyaltyAbility(new GarrukRelentlessDamageEffect(), 0);°Ïability1.addTarget(new TargetCreaturePermanent());°Ïthis.addAbility(ability1);°ÏLoyaltyAbility ability2 = new LoyaltyAbility(new CreateTokenEffect(new WolfToken()), 0);°Ïthis.addAbility(ability2);°Ï}°Ïpublic GarrukRelentless(final GarrukRelentless card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic GarrukRelentless copy() {°Ïreturn new GarrukRelentless(this);°Ï}°Ï}°Ïclass GarrukRelentlessTriggeredAbility extends TriggeredAbilityImpl {°Ïpublic GarrukRelentlessTriggeredAbility() {°Ïsuper(Zone.BATTLEFIELD, new TransformSourceEffect(true), false);°Ï}°Ïpublic GarrukRelentlessTriggeredAbility(GarrukRelentlessTriggeredAbility ability) {°Ïsuper(ability);°Ï}°Ï@Override°Ïpublic GarrukRelentlessTriggeredAbility copy() {°Ïreturn new GarrukRelentlessTriggeredAbility(this);°Ï}°Ï@Override°Ïpublic boolean checkEventType(GameEvent event, Game game) {°Ïreturn event.getType() == EventType.DAMAGED_PLANESWALKER;°Ï}°Ï@Override°Ïpublic boolean checkTrigger(GameEvent event, Game game) {°Ïif (event.getTargetId().equals(sourceId)) {°ÏPermanent permanent = game.getPermanent(sourceId);°Ïif (permanent != null && !permanent.isTransformed() && permanent.getCounters().getCount(CounterType.LOYALTY) <= 2) {°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic String getRule() {°Ïreturn "When Garruk Relentless has two or fewer loyalty counters on him, transform him.";°Ï}°Ï}°Ïclass GarrukRelentlessDamageEffect extends OneShotEffect {°Ïpublic GarrukRelentlessDamageEffect() {°Ïsuper(Outcome.Damage);°ÏstaticText = "Garruk Relentless deals 3 damage to target creature. That creature deals damage equal to its power to him";°Ï}°Ïpublic GarrukRelentlessDamageEffect(GarrukRelentlessDamageEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPermanent permanent = game.getPermanent(targetPointer.getFirst(game, source));°Ïif (permanent != null) {°Ïint damage = permanent.getPower().getValue();°Ïpermanent.damage(3, source.getSourceId(), game, false, true);°Ïif (damage > 0) {°ÏPermanent garruk = game.getPermanent(source.getSourceId());°Ïif (garruk != null) {°Ïgarruk.damage(damage, permanent.getId(), game, false, true);°Ï}°Ï}°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic GarrukRelentlessDamageEffect copy() {°Ïreturn new GarrukRelentlessDamageEffect(this);°Ï}°Ï}°Ï
