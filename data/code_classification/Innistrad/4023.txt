public class TrepanationBlade extends CardImpl {°Ïpublic TrepanationBlade(UUID ownerId) {°Ïsuper(ownerId, 235, "Trepanation Blade", Rarity.UNCOMMON, new CardType[]{CardType.ARTIFACT}, "{3}");°Ïthis.expansionSetCode = "ISD";°Ïthis.subtype.add("Equipment");°ÏAbility ability = new AttacksAttachedTriggeredAbility(new TrepanationBladeDiscardEffect());°Ïability.addEffect(new TrepanationBladeBoostEffect());°Ïthis.addAbility(ability);°Ïthis.addAbility(new EquipAbility(Outcome.BoostCreature, new GenericManaCost(2)));°Ï}°Ïpublic TrepanationBlade(final TrepanationBlade card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic TrepanationBlade copy() {°Ïreturn new TrepanationBlade(this);°Ï}°Ï}°Ïclass TrepanationBladeDiscardEffect extends OneShotEffect {°Ïpublic TrepanationBladeDiscardEffect() {°Ïsuper(Outcome.Discard);°Ïthis.staticText = "defending player reveals cards from the top of his or her library until he or she reveals a land card. The creature gets +1/+0 until end of turn for each card revealed this way. That player puts the revealed cards into his or her graveyard";°Ï}°Ïpublic TrepanationBladeDiscardEffect(final TrepanationBladeDiscardEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic TrepanationBladeDiscardEffect copy() {°Ïreturn new TrepanationBladeDiscardEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPermanent equipment = game.getPermanent(source.getSourceId());°Ïif (equipment != null && equipment.getAttachedTo() != null) {°ÏPermanent creature = game.getPermanent(equipment.getAttachedTo());°Ïif (creature == null) {°Ïreturn false;°Ï}°ÏUUID defenderId = game.getCombat().getDefenderId(creature.getId());°ÏPlayer player = game.getPlayer(defenderId);°Ïif (player == null) {°Ïreturn false;°Ï}°ÏCardsImpl cards = new CardsImpl();°Ïboolean landFound = false;°Ïwhile (player.getLibrary().size() > 0 && !landFound) {°ÏCard card = player.getLibrary().removeFromTop(game);°Ïif (card != null) {°Ïcards.add(card);°Ïif (card.getCardType().contains(CardType.LAND)) {°ÏlandFound = true;°Ï}°Ï}°Ï}°Ïplayer.moveCards(cards, Zone.LIBRARY, Zone.GRAVEYARD, source, game);°Ïif (!cards.isEmpty()) {°Ïplayer.revealCards(equipment.getName(), cards, game);°Ïgame.getState().setValue(source.getSourceId().toString() + "_TrepanationBlade", cards.size());°Ïreturn true;°Ï}°Ï}°Ïgame.getState().setValue(source.getSourceId().toString() + "_TrepanationBlade", null);°Ïreturn false;°Ï}°Ï@Override°Ïpublic String getText(Mode mode) {°Ïreturn super.getText(mode); °Ï
