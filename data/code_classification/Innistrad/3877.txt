public class ForbiddenAlchemy extends CardImpl {°Ïpublic ForbiddenAlchemy(UUID ownerId) {°Ïsuper(ownerId, 55, "Forbidden Alchemy", Rarity.COMMON, new CardType[]{CardType.INSTANT}, "{2}{U}");°Ïthis.expansionSetCode = "ISD";°Ïthis.getSpellAbility().addEffect(new ForbiddenAlchemyEffect());°Ïthis.addAbility(new FlashbackAbility(new ManaCostsImpl("{6}{B}"), TimingRule.INSTANT));°Ï}°Ïpublic ForbiddenAlchemy(final ForbiddenAlchemy card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic ForbiddenAlchemy copy() {°Ïreturn new ForbiddenAlchemy(this);°Ï}°Ï}°Ïclass ForbiddenAlchemyEffect extends OneShotEffect {°Ïpublic ForbiddenAlchemyEffect() {°Ïsuper(Outcome.DrawCard);°Ïthis.staticText = "Look at the top four cards of your library. Put one of them into your hand and the rest into your graveyard";°Ï}°Ïpublic ForbiddenAlchemyEffect(final ForbiddenAlchemyEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic ForbiddenAlchemyEffect copy() {°Ïreturn new ForbiddenAlchemyEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer player = game.getPlayer(source.getControllerId());°Ïif (player != null) {°ÏCards cards = new CardsImpl();°Ïint cardsCount = Math.min(4, player.getLibrary().size());°Ïfor (int i = 0; i < cardsCount; i++) {°ÏCard card = player.getLibrary().removeFromTop(game);°Ïif (card != null) {°Ïcards.add(card);°Ï}°Ï}°Ïif (cards.size() > 0) {°Ïplayer.lookAtCards("Forbidden Alchemy", cards, game);°ÏTargetCard target = new TargetCard(Zone.LIBRARY, new FilterCard("card to put in your hand"));°Ïif (player.choose(Outcome.Benefit, cards, target, game)) {°ÏCard card = cards.get(target.getFirstTarget(), game);°Ïif (card != null) {°Ïcard.moveToZone(Zone.HAND, source.getSourceId(), game, false);°Ïcards.remove(card);°Ï}°Ï}°Ïfor (Card card : cards.getCards(game)) {°Ïcard.moveToZone(Zone.GRAVEYARD, source.getSourceId(), game, true);°Ï}°Ï}°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï}°Ï
