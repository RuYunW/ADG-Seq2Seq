public class CurseOfTheBloodyTome extends CardImpl {°Ïpublic CurseOfTheBloodyTome(UUID ownerId) {°Ïsuper(ownerId, 50, "Curse of the Bloody Tome", Rarity.COMMON, new CardType[]{CardType.ENCHANTMENT}, "{2}{U}");°Ïthis.expansionSetCode = "ISD";°Ïthis.subtype.add("Aura");°Ïthis.subtype.add("Curse");°ÏTargetPlayer target = new TargetPlayer();°Ïthis.getSpellAbility().addTarget(target);°Ïthis.getSpellAbility().addEffect(new AttachEffect(Outcome.AddAbility));°ÏAbility ability = new EnchantAbility(target.getTargetName());°Ïthis.addAbility(ability);°Ïthis.addAbility(new CurseOfTheBloodyTomeAbility());°Ï}°Ïpublic CurseOfTheBloodyTome(final CurseOfTheBloodyTome card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic CurseOfTheBloodyTome copy() {°Ïreturn new CurseOfTheBloodyTome(this);°Ï}°Ï}°Ïclass CurseOfTheBloodyTomeAbility extends TriggeredAbilityImpl {°Ïpublic CurseOfTheBloodyTomeAbility() {°Ïsuper(Zone.BATTLEFIELD, new PutLibraryIntoGraveTargetEffect(2));°Ï}°Ïpublic CurseOfTheBloodyTomeAbility(final CurseOfTheBloodyTomeAbility ability) {°Ïsuper(ability);°Ï}°Ï@Override°Ïpublic CurseOfTheBloodyTomeAbility copy() {°Ïreturn new CurseOfTheBloodyTomeAbility(this);°Ï}°Ï@Override°Ïpublic boolean checkEventType(GameEvent event, Game game) {°Ïreturn event.getType() == EventType.UPKEEP_STEP_PRE;°Ï}°Ï@Override°Ïpublic boolean checkTrigger(GameEvent event, Game game) {°ÏPermanent enchantment = game.getPermanent(this.sourceId);°Ïif (enchantment != null && enchantment.getAttachedTo() != null) {°ÏPlayer player = game.getPlayer(enchantment.getAttachedTo());°Ïif (player != null && game.getActivePlayerId().equals(player.getId())) {°Ïthis.getEffects().get(0).setTargetPointer(new FixedTarget(player.getId()));°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic String getRule() {°Ïreturn "At the beginning of enchanted player's upkeep, that player puts the top two cards of his or her library into his or her graveyard.";°Ï}°Ï}°Ï
