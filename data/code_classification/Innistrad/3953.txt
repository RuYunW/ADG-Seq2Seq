public class Moonmist extends CardImpl {¡ìprivate static final FilterCreaturePermanent filter = new FilterCreaturePermanent("creatures other than Werewolves and Wolves");¡ìstatic {¡ìfilter.add(Predicates.not(new SubtypePredicate("Werewolf")));¡ìfilter.add(Predicates.not(new SubtypePredicate("Wolf")));¡ì}¡ìpublic Moonmist(UUID ownerId) {¡ìsuper(ownerId, 195, "Moonmist", Rarity.COMMON, new CardType[]{CardType.INSTANT}, "{1}{G}");¡ìthis.expansionSetCode = "ISD";¡ìthis.getSpellAbility().addEffect(new MoonmistEffect());¡ìthis.getSpellAbility().addEffect(new PreventAllDamageByAllEffect(filter, Duration.EndOfTurn, true));¡ì}¡ìpublic Moonmist(final Moonmist card) {¡ìsuper(card);¡ì}¡ì@Override¡ìpublic Moonmist copy() {¡ìreturn new Moonmist(this);¡ì}¡ì}¡ìclass MoonmistEffect extends OneShotEffect {¡ìprivate static final FilterCreaturePermanent filter = new FilterCreaturePermanent("humans");¡ìstatic {¡ìfilter.add(new SubtypePredicate("Human"));¡ì}¡ìpublic MoonmistEffect() {¡ìsuper(Outcome.PreventDamage);¡ìstaticText = "Transform all Humans";¡ì}¡ìpublic MoonmistEffect(final MoonmistEffect effect) {¡ìsuper(effect);¡ì}¡ì@Override¡ìpublic boolean apply(Game game, Ability source) {¡ìfor (Permanent permanent: game.getBattlefield().getActivePermanents(filter, source.getControllerId(), game)) {¡ìif (permanent.canTransform()) {¡ìpermanent.transform(game);¡ìgame.informPlayers(new StringBuilder(permanent.getName()).append(" transforms into ").append(permanent.getSecondCardFace().getName()).toString());¡ì}¡ì}¡ìreturn true;¡ì}¡ì@Override¡ìpublic MoonmistEffect copy() {¡ìreturn new MoonmistEffect(this);¡ì}¡ì}¡ì
