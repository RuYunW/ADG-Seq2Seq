public class MirrorMadPhantasm extends CardImpl {°Ïpublic MirrorMadPhantasm(UUID ownerId) {°Ïsuper(ownerId, 68, "Mirror-Mad Phantasm", Rarity.MYTHIC, new CardType[]{CardType.CREATURE}, "{3}{U}{U}");°Ïthis.expansionSetCode = "ISD";°Ïthis.subtype.add("Spirit");°Ïthis.power = new MageInt(5);°Ïthis.toughness = new MageInt(1);°Ïthis.addAbility(FlyingAbility.getInstance());°Ïthis.addAbility(new SimpleActivatedAbility(Zone.BATTLEFIELD, new MirrorMadPhantasmEffect(), new ManaCostsImpl("{1}{U}")));°Ï}°Ïpublic MirrorMadPhantasm(final MirrorMadPhantasm card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic MirrorMadPhantasm copy() {°Ïreturn new MirrorMadPhantasm(this);°Ï}°Ï}°Ïclass MirrorMadPhantasmEffect extends OneShotEffect {°Ïpublic MirrorMadPhantasmEffect() {°Ïsuper(Outcome.Detriment);°Ïthis.staticText = "{this}'s owner shuffles it into his or her library. If that player does, he or she reveals cards from the top of that library until a card named Mirror-Mad Phantasm is revealed. That player puts that card onto the battlefield and all other cards revealed this way into his or her graveyard";°Ï}°Ïpublic MirrorMadPhantasmEffect(final MirrorMadPhantasmEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPermanent perm = game.getPermanent(source.getSourceId());°Ïif (perm != null) {°ÏPlayer player = game.getPlayer(perm.getOwnerId());°Ïif (player != null) {°Ïperm.moveToZone(Zone.LIBRARY, source.getSourceId(), game, true);°Ïplayer.shuffleLibrary(game);°ÏCards cards = new CardsImpl();°Ïwhile (true) {°ÏCard card = player.getLibrary().removeFromTop(game);°Ïif (card == null) {°Ïbreak;°Ï}°Ïif (card.getName().equals("Mirror-Mad Phantasm")) {°Ïcard.putOntoBattlefield(game, Zone.LIBRARY, source.getSourceId(), player.getId());°Ïbreak;°Ï}°Ïcards.add(card);°Ï}°Ïplayer.revealCards("Mirror-Mad Phantasm", cards, game);°Ïplayer.moveCards(cards, Zone.LIBRARY, Zone.GRAVEYARD, source, game);°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic MirrorMadPhantasmEffect copy() {°Ïreturn new MirrorMadPhantasmEffect(this);°Ï}°Ï}°Ï
