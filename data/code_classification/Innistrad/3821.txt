public class BitterheartWitch extends CardImpl {°Ïpublic BitterheartWitch(UUID ownerId) {°Ïsuper(ownerId, 88, "Bitterheart Witch", Rarity.UNCOMMON, new CardType[]{CardType.CREATURE}, "{4}{B}");°Ïthis.expansionSetCode = "ISD";°Ïthis.subtype.add("Human");°Ïthis.subtype.add("Shaman");°Ïthis.power = new MageInt(1);°Ïthis.toughness = new MageInt(2);°Ïthis.addAbility(DeathtouchAbility.getInstance());°ÏAbility ability = new DiesTriggeredAbility(new BitterheartWitchEffect(), true);°Ïability.addTarget(new TargetPlayer());°Ïthis.addAbility(ability);°Ï}°Ïpublic BitterheartWitch(final BitterheartWitch card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic BitterheartWitch copy() {°Ïreturn new BitterheartWitch(this);°Ï}°Ï}°Ïclass BitterheartWitchEffect extends OneShotEffect {°Ïprivate static final FilterCard filter = new FilterCard("Curse card in your library");°Ïstatic {°Ïfilter.add(new SubtypePredicate("Curse"));°Ï}°Ïpublic BitterheartWitchEffect() {°Ïsuper(Outcome.Detriment);°ÏstaticText = "you may search your library for a Curse card, put it onto the battlefield attached to target player, then shuffle your library";°Ï}°Ïpublic BitterheartWitchEffect(final BitterheartWitchEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer player = game.getPlayer(source.getControllerId());°ÏPlayer targetPlayer = game.getPlayer(source.getFirstTarget());°Ïif (player != null && targetPlayer != null) {°ÏTargetCardInLibrary targetCard = new TargetCardInLibrary(filter);°Ïif (player.searchLibrary(targetCard, game)) {°ÏCard card = game.getCard(targetCard.getFirstTarget());°Ïif (card != null) {°Ïgame.getState().setValue("attachTo:" + card.getId(), targetPlayer.getId());°Ïcard.putOntoBattlefield(game, Zone.LIBRARY, source.getSourceId(), source.getControllerId());°ÏtargetPlayer.addAttachment(card.getId(), game);°Ï}°Ïplayer.shuffleLibrary(game);°Ïreturn true;°Ï}°Ïplayer.shuffleLibrary(game);°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic BitterheartWitchEffect copy() {°Ïreturn new BitterheartWitchEffect(this);°Ï}°Ï}°Ï
