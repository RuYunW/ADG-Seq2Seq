public class CharmbreakerDevils extends CardImpl {°Ïprivate static final FilterSpell filter = new FilterSpell("instant or sorcery card");°Ïstatic {°Ïfilter.add(Predicates.or(°Ïnew CardTypePredicate(CardType.INSTANT),°Ïnew CardTypePredicate(CardType.SORCERY)));°Ï}°Ïpublic CharmbreakerDevils(UUID ownerId) {°Ïsuper(ownerId, 134, "Charmbreaker Devils", Rarity.RARE, new CardType[]{CardType.CREATURE}, "{5}{R}");°Ïthis.expansionSetCode = "ISD";°Ïthis.subtype.add("Devil");°Ïthis.power = new MageInt(4);°Ïthis.toughness = new MageInt(4);°Ïthis.addAbility(new OnEventTriggeredAbility(EventType.UPKEEP_STEP_PRE, "beginning of your upkeep", new CharmbreakerDevilsEffect(), false));°Ïthis.addAbility(new SpellCastControllerTriggeredAbility(new BoostSourceEffect(4, 0, Duration.EndOfTurn), filter, false));°Ï}°Ïpublic CharmbreakerDevils(final CharmbreakerDevils card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic CharmbreakerDevils copy() {°Ïreturn new CharmbreakerDevils(this);°Ï}°Ï}°Ïclass CharmbreakerDevilsEffect extends OneShotEffect {°Ïpublic CharmbreakerDevilsEffect() {°Ïsuper(Outcome.ReturnToHand);°Ïthis.staticText = "return an instant or sorcery card at random from your graveyard to your hand";°Ï}°Ïpublic CharmbreakerDevilsEffect(final CharmbreakerDevilsEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic CharmbreakerDevilsEffect copy() {°Ïreturn new CharmbreakerDevilsEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer player = game.getPlayer(source.getControllerId());°Ïif (player != null) {°ÏFilterCard filter = new FilterCard("instant or sorcery card");°Ïfilter.add(Predicates.or(°Ïnew CardTypePredicate(CardType.INSTANT),°Ïnew CardTypePredicate(CardType.SORCERY)));°ÏCard[] cards = player.getGraveyard().getCards(filter, game).toArray(new Card[0]);°Ïif (cards.length > 0) {°ÏRandom rnd = new Random();°ÏCard card = cards[rnd.nextInt(cards.length)];°Ïcard.moveToZone(Zone.HAND, source.getSourceId(), game, true);°Ïgame.informPlayers(new StringBuilder("Charmbreaker Devils: ").append(card.getName()).append(" returned to the hand of ").append(player.getLogName()).toString());°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï}°Ï
