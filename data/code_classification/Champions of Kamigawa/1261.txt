public class VassalsDuty extends CardImpl {°Ïprivate static final FilterControlledCreaturePermanent filter = new FilterControlledCreaturePermanent("legendary creature you control");°Ïstatic {°Ïfilter.add(new SupertypePredicate("Legendary"));°Ï}°Ïpublic VassalsDuty(UUID ownerId) {°Ïsuper(ownerId, 48, "Vassal's Duty", Rarity.RARE, new CardType[]{CardType.ENCHANTMENT}, "{3}{W}");°Ïthis.expansionSetCode = "CHK";°ÏAbility ability = new SimpleActivatedAbility(Zone.BATTLEFIELD, new VassalsDutyPreventDamageTargetEffect(Duration.EndOfTurn, 1), new GenericManaCost(1));°Ïability.addTarget(new TargetControlledCreaturePermanent(1, 1, filter, false));°Ïthis.addAbility(ability);°Ï}°Ïpublic VassalsDuty(final VassalsDuty card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic VassalsDuty copy() {°Ïreturn new VassalsDuty(this);°Ï}°Ï}°Ïclass VassalsDutyPreventDamageTargetEffect extends RedirectionEffect {°Ïpublic VassalsDutyPreventDamageTargetEffect(Duration duration, int amount) {°Ïsuper(duration, amount, true);°ÏstaticText = "The next " + amount + " damage that would be dealt to target legendary creature you control this turn is dealt to you instead";°Ï}°Ïpublic VassalsDutyPreventDamageTargetEffect(final VassalsDutyPreventDamageTargetEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic VassalsDutyPreventDamageTargetEffect copy() {°Ïreturn new VassalsDutyPreventDamageTargetEffect(this);°Ï}°Ï@Override°Ïpublic boolean applies(GameEvent event, Ability source, Game game) {°Ïif (event.getTargetId().equals(getTargetPointer().getFirst(game, source))) {°ÏTargetPlayer target = new TargetPlayer();°Ïtarget.add(source.getControllerId(), game);°ÏredirectTarget = target;°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï}°Ï
