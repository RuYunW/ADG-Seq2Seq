public class KondasBanner extends CardImpl {°Ïprivate static final FilterControlledCreaturePermanent legendaryFilter = new FilterControlledCreaturePermanent("Legendary creatures");°Ïstatic {°ÏlegendaryFilter.add(new SupertypePredicate("Legendary"));°Ï}°Ïpublic KondasBanner(UUID ownerId) {°Ïsuper(ownerId, 259, "Konda's Banner", Rarity.RARE, new CardType[]{CardType.ARTIFACT}, "{2}");°Ïthis.expansionSetCode = "CHK";°Ïthis.supertype.add("Legendary");°Ïthis.subtype.add("Equipment");°Ïthis.addAbility(new SimpleStaticAbility(Zone.BATTLEFIELD, new InfoEffect("{this} can be attached only to a legendary creature")));°Ïthis.addAbility(new SimpleStaticAbility(Zone.BATTLEFIELD, new KondasBannerColorBoostEffect()));°Ïthis.addAbility(new SimpleStaticAbility(Zone.BATTLEFIELD, new KondasBannerTypeBoostEffect()));°Ïthis.addAbility(new EquipAbility(°ÏOutcome.AddAbility,°Ïnew GenericManaCost(2),°Ïnew TargetControlledCreaturePermanent(1, 1, legendaryFilter, false)));°Ï}°Ïpublic KondasBanner(final KondasBanner card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic KondasBanner copy() {°Ïreturn new KondasBanner(this);°Ï}°Ï}°Ïclass KondasBannerTypeBoostEffect extends BoostAllEffect {°Ïprivate static final String effectText = "Creatures that share a creature type with equipped creature get +1/+1";°ÏKondasBannerTypeBoostEffect() {°Ïsuper(1, 1, Duration.WhileOnBattlefield, new FilterCreaturePermanent(), false);°ÏstaticText = effectText;°Ï}°ÏKondasBannerTypeBoostEffect(KondasBannerTypeBoostEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPermanent equipment = game.getPermanent(source.getSourceId());°Ïif (equipment != null && equipment.getAttachedTo() != null) {°ÏPermanent equipedCreature = game.getPermanent(equipment.getAttachedTo());°Ïif (equipedCreature != null) {°Ïfor (Permanent perm : game.getBattlefield().getActivePermanents(filter, source.getControllerId(), source.getSourceId(), game)) {°Ïif (CardUtil.shareSubtypes(perm, equipedCreature)) {°Ïperm.addPower(power.calculate(game, source, this));°Ïperm.addToughness(toughness.calculate(game, source, this));°Ï}°Ï}°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic KondasBannerTypeBoostEffect copy() {°Ïreturn new KondasBannerTypeBoostEffect(this);°Ï}°Ï}°Ïclass KondasBannerColorBoostEffect extends BoostAllEffect {°Ïprivate static final String effectText = "Creatures that share a color with equipped creature get +1/+1.";°ÏKondasBannerColorBoostEffect() {°Ïsuper(1, 1, Duration.WhileOnBattlefield, new FilterCreaturePermanent(), false);°ÏstaticText = effectText;°Ï}°ÏKondasBannerColorBoostEffect(KondasBannerColorBoostEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPermanent equipment = game.getPermanent(source.getSourceId());°Ïif (equipment != null && equipment.getAttachedTo() != null) {°ÏPermanent equipedCreature = game.getPermanent(equipment.getAttachedTo());°Ïif (equipedCreature != null) {°Ïfor (Permanent perm : game.getBattlefield().getActivePermanents(filter, source.getControllerId(), source.getSourceId(), game)) {°Ïif (equipedCreature.getColor(game).shares(perm.getColor(game))) {°Ïperm.addPower(power.calculate(game, source, this));°Ïperm.addToughness(toughness.calculate(game, source, this));°Ï}°Ï}°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic KondasBannerColorBoostEffect copy() {°Ïreturn new KondasBannerColorBoostEffect(this);°Ï}°Ï}°Ï
