public class PiousKitsune extends CardImpl {°Ïpublic PiousKitsune(UUID ownerId) {°Ïsuper(ownerId, 38, "Pious Kitsune", Rarity.COMMON, new CardType[]{CardType.CREATURE}, "{2}{W}");°Ïthis.expansionSetCode = "CHK";°Ïthis.subtype.add("Fox");°Ïthis.subtype.add("Cleric");°Ïthis.power = new MageInt(1);°Ïthis.toughness = new MageInt(2);°Ïthis.addAbility(new BeginningOfUpkeepTriggeredAbility(new PiousKitsuneEffect(), TargetController.YOU, false));°ÏAbility ability = new SimpleActivatedAbility(Zone.BATTLEFIELD, new GainLifeEffect(1), new TapSourceCost());°Ïability.addCost(new RemoveCountersSourceCost(CounterType.DEVOTION.createInstance()));°Ïthis.addAbility(ability);°Ï}°Ïpublic PiousKitsune(final PiousKitsune card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic PiousKitsune copy() {°Ïreturn new PiousKitsune(this);°Ï}°Ï}°Ïclass PiousKitsuneEffect extends OneShotEffect {°Ïprivate static final FilterCreaturePermanent filter = new FilterCreaturePermanent("creature named Eight-and-a-Half-Tails");°Ïstatic {°Ïfilter.add(new NamePredicate("Eight-and-a-Half-Tails"));°Ï}°Ïpublic PiousKitsuneEffect() {°Ïsuper(Outcome.Benefit);°Ïthis.staticText = "put a devotion counter on Pious Kitsune. Then if a creature named Eight-and-a-Half-Tails is on the battlefield, you gain 1 life for each devotion counter on Pious Kitsune";°Ï}°Ïpublic PiousKitsuneEffect(final PiousKitsuneEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic PiousKitsuneEffect copy() {°Ïreturn new PiousKitsuneEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°Ïboolean result;°Ïresult = new AddCountersSourceEffect(CounterType.DEVOTION.createInstance()).apply(game, source);°Ïif (game.getBattlefield().count(filter, source.getSourceId(), source.getControllerId(), game) > 0) {°ÏPermanent permanent = game.getPermanent(source.getSourceId());°Ïif (permanent != null) {°Ïint life = permanent.getCounters().getCount(CounterType.DEVOTION);°Ïif (life > 0) {°ÏPlayer controller = game.getPlayer(source.getControllerId());°Ïif (controller != null) {°Ïcontroller.gainLife(life, game);°Ï}°Ï}°Ï}°Ï}°Ïreturn result;°Ï}°Ï}°Ï
