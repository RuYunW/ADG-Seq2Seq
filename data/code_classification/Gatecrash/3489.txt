public class SylvanPrimordial extends CardImpl {¡ìpublic SylvanPrimordial(UUID ownerId) {¡ìsuper(ownerId, 136, "Sylvan Primordial", Rarity.RARE, new CardType[]{CardType.CREATURE}, "{5}{G}{G}");¡ìthis.expansionSetCode = "GTC";¡ìthis.subtype.add("Avatar");¡ìthis.power = new MageInt(6);¡ìthis.toughness = new MageInt(8);¡ìthis.addAbility(ReachAbility.getInstance());¡ìthis.addAbility(new EntersBattlefieldTriggeredAbility(new SylvanPrimordialEffect(),false));¡ì}¡ì@Override¡ìpublic void adjustTargets(Ability ability, Game game) {¡ìif (ability instanceof EntersBattlefieldTriggeredAbility) {¡ìability.getTargets().clear();¡ìfor(UUID opponentId : game.getOpponents(ability.getControllerId())) {¡ìPlayer opponent = game.getPlayer(opponentId);¡ìif (opponent != null) {¡ìFilterPermanent filter = new FilterPermanent("noncreature permanent from opponent " + opponent.getLogName());¡ìfilter.add(new ControllerIdPredicate(opponentId));¡ìfilter.add(Predicates.not(new CardTypePredicate(CardType.CREATURE)));¡ìTargetPermanent target = new TargetPermanent(0,1, filter,false);¡ìability.addTarget(target);¡ì}¡ì}¡ì}¡ì}¡ìpublic SylvanPrimordial(final SylvanPrimordial card) {¡ìsuper(card);¡ì}¡ì@Override¡ìpublic SylvanPrimordial copy() {¡ìreturn new SylvanPrimordial(this);¡ì}¡ì}¡ìclass SylvanPrimordialEffect extends OneShotEffect {¡ìprivate static final FilterLandCard filterForest = new FilterLandCard("Forest");¡ìstatic{¡ìfilterForest.add(new SubtypePredicate("Forest"));¡ì}¡ìpublic SylvanPrimordialEffect() {¡ìsuper(Outcome.DestroyPermanent);¡ìthis.staticText = "for each opponent, destroy target noncreature permanent that player controls. For each permanent destroyed this way, search your library for a Forest card and put that card onto the battlefield tapped. Then shuffle your library";¡ì}¡ìpublic SylvanPrimordialEffect(final SylvanPrimordialEffect effect) {¡ìsuper(effect);¡ì}¡ì@Override¡ìpublic SylvanPrimordialEffect copy() {¡ìreturn new SylvanPrimordialEffect(this);¡ì}¡ì@Override¡ìpublic boolean apply(Game game, Ability source) {¡ìboolean result = false;¡ìint destroyedCreatures = 0;¡ìfor (Target target: source.getTargets()) {¡ìif (target instanceof TargetPermanent) {¡ìPermanent targetPermanent = game.getPermanent(target.getFirstTarget());¡ìif (targetPermanent != null) {¡ìif (targetPermanent.destroy(source.getSourceId(), game, false)) {¡ìdestroyedCreatures++;¡ì}¡ì}¡ì}¡ì}¡ìif (destroyedCreatures > 0) {¡ìnew SearchLibraryPutInPlayEffect(new TargetCardInLibrary(destroyedCreatures,filterForest), true, true).apply(game, source);¡ì}¡ìreturn result;¡ì}¡ì}¡ì
