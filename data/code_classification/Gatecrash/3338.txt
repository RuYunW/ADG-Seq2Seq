public class CoercedConfession extends CardImpl {°Ïpublic CoercedConfession(UUID ownerId) {°Ïsuper(ownerId, 217, "Coerced Confession", Rarity.UNCOMMON, new CardType[]{CardType.SORCERY}, "{4}{U/B}");°Ïthis.expansionSetCode = "GTC";°ÏgetSpellAbility().addEffect(new CoercedConfessionMillEffect());°ÏgetSpellAbility().addTarget(new TargetPlayer());°Ï}°Ïpublic CoercedConfession(final CoercedConfession card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic CoercedConfession copy() {°Ïreturn new CoercedConfession(this);°Ï}°Ï}°Ïclass CoercedConfessionMillEffect extends OneShotEffect {°Ïpublic CoercedConfessionMillEffect() {°Ïsuper(Outcome.DrawCard);°Ïthis.staticText = "Target player puts the top four cards of his or her library into his or her graveyard. You draw a card for each creature card put into a graveyard this way";°Ï}°Ïpublic CoercedConfessionMillEffect(final CoercedConfessionMillEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic CoercedConfessionMillEffect copy() {°Ïreturn new CoercedConfessionMillEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer player = game.getPlayer(targetPointer.getFirst(game, source));°Ïif (player != null) {°Ïint foundCreatures = 0;°ÏCards cards = new CardsImpl();°Ïfor(Card card: player.getLibrary().getTopCards(game, 4)) {°Ïcards.add(card);°Ïif (card.getCardType().contains(CardType.CREATURE)) {°Ï++foundCreatures;°Ï}°Ï}°Ïplayer.moveCards(cards, Zone.LIBRARY, Zone.GRAVEYARD, source, game);°Ïif (foundCreatures > 0) {°ÏPlayer controller = game.getPlayer(source.getControllerId());°Ïif (controller != null) {°Ïcontroller.drawCards(foundCreatures, game);°Ï}°Ï}°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï}°Ï
