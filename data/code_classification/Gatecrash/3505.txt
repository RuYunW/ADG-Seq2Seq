public class VizkopaConfessor extends CardImpl {°Ïpublic VizkopaConfessor(UUID ownerId) {°Ïsuper(ownerId, 205, "Vizkopa Confessor", Rarity.UNCOMMON, new CardType[]{CardType.CREATURE}, "{3}{W}{B}");°Ïthis.expansionSetCode = "GTC";°Ïthis.subtype.add("Human");°Ïthis.subtype.add("Cleric");°Ïthis.power = new MageInt(1);°Ïthis.toughness = new MageInt(3);°Ïthis.addAbility(new ExtortAbility());°ÏAbility ability = new EntersBattlefieldTriggeredAbility(new VizkopaConfessorEffect());°Ïability.addTarget(new TargetOpponent());°Ïthis.addAbility(ability);°Ï}°Ïpublic VizkopaConfessor(final VizkopaConfessor card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic VizkopaConfessor copy() {°Ïreturn new VizkopaConfessor(this);°Ï}°Ï}°Ïclass VizkopaConfessorEffect extends OneShotEffect {°Ïpublic VizkopaConfessorEffect() {°Ïsuper(Outcome.Benefit);°Ïthis.staticText = "pay any amount of life. Target opponent reveals that many cards from his or her hand. You choose one of them and exile it";°Ï}°Ïpublic VizkopaConfessorEffect(final VizkopaConfessorEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic VizkopaConfessorEffect copy() {°Ïreturn new VizkopaConfessorEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer controller = game.getPlayer(source.getControllerId());°ÏPlayer targetPlayer = game.getPlayer(source.getFirstTarget());°ÏCard sourceCard = game.getCard(source.getSourceId());°Ïif (controller != null && targetPlayer != null && sourceCard != null) {°Ïint payLife = controller.getAmount(0, controller.getLife(),"Pay how many life?", game);°Ïif (payLife > 0) {°Ïcontroller.loseLife(payLife, game);°Ïgame.informPlayers(new StringBuilder(sourceCard.getName()).append(": ").append(controller.getLogName()).append(" pays ").append(payLife).append(" life").toString());°ÏCards cardsInHand = new CardsImpl();°ÏcardsInHand.addAll(targetPlayer.getHand());°Ïint count = Math.min(cardsInHand.size(), payLife);°ÏTargetCard target = new TargetCard(count, Zone.HAND, new FilterCard());°ÏCards revealedCards = new CardsImpl();°Ïif (targetPlayer.chooseTarget(Outcome.Discard, cardsInHand, target, source, game)) {°ÏList<UUID> targets = target.getTargets();°Ïfor (UUID targetId : targets) {°ÏCard card = game.getCard(targetId);°Ïif (card != null) {°ÏrevealedCards.add(card);°Ï}°Ï}°Ï}°ÏTargetCard targetInHand = new TargetCard(Zone.HAND, new FilterCard("card to exile"));°Ïif (!revealedCards.isEmpty()) {°ÏtargetPlayer.revealCards(sourceCard.getName(), revealedCards, game);°Ïcontroller.chooseTarget(Outcome.Exile, revealedCards, targetInHand, source, game);°ÏCard card = revealedCards.get(targetInHand.getFirstTarget(), game);°Ïif (card != null) {°Ïcontroller.moveCardToExileWithInfo(card, null, null, source.getSourceId(), game, Zone.HAND, true);°Ï}°Ï}°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï}°Ï
