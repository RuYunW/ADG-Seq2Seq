public class SereneRemembrance extends CardImpl {°Ïpublic SereneRemembrance (UUID ownerId) {°Ïsuper(ownerId, 132, "Serene Remembrance", Rarity.UNCOMMON, new CardType[]{CardType.SORCERY}, "{G}");°Ïthis.expansionSetCode = "GTC";°Ïthis.getSpellAbility().addEffect(new SereneRemembranceEffect());°Ïthis.getSpellAbility().addTarget(new TargetCardInASingleGraveyard(0,3,new FilterCard("up to three target cards from a single graveyard")));°Ï}°Ïpublic SereneRemembrance(final SereneRemembrance card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic SereneRemembrance copy() {°Ïreturn new SereneRemembrance(this);°Ï}°Ï}°Ïclass SereneRemembranceEffect extends OneShotEffect {°Ïpublic SereneRemembranceEffect() {°Ïsuper(Outcome.Benefit);°Ïthis.staticText = "Shuffle Serene Remembrance and up to three target cards from a single graveyard into their owners' libraries";°Ï}°Ïpublic SereneRemembranceEffect(final SereneRemembranceEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic SereneRemembranceEffect copy() {°Ïreturn new SereneRemembranceEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°Ïboolean result = false;°ÏPlayer graveyardPlayer = null;°Ïfor (UUID cardInGraveyard : targetPointer.getTargets(game, source)) {°ÏCard card = game.getCard(cardInGraveyard);°Ïif (card != null) {°Ïfor (Player player : game.getPlayers().values()) {°Ïif (player.getGraveyard().contains(card.getId())) {°ÏgraveyardPlayer = player;°Ïplayer.getGraveyard().remove(card);°Ïresult |= card.moveToZone(Zone.LIBRARY, source.getSourceId(), game, true);°Ï}°Ï}°Ï}°Ï}°ÏCard card = game.getCard(source.getSourceId());°Ïresult |= card.moveToZone(Zone.LIBRARY, source.getSourceId(), game, false);°ÏPlayer player = game.getPlayer(card.getOwnerId());°Ïif (player != null){°Ïplayer.shuffleLibrary(game);°Ï}°Ïif (graveyardPlayer != null && !graveyardPlayer.equals(player)) {°ÏgraveyardPlayer.shuffleLibrary(game);°Ï}°Ïreturn result;°Ï}°Ï}°Ï
