public class BalustradeSpy extends CardImpl {°Ïpublic BalustradeSpy(UUID ownerId) {°Ïsuper(ownerId, 57, "Balustrade Spy", Rarity.COMMON, new CardType[]{CardType.CREATURE}, "{3}{B}");°Ïthis.expansionSetCode = "GTC";°Ïthis.subtype.add("Vampire");°Ïthis.subtype.add("Rogue");°Ïthis.power = new MageInt(2);°Ïthis.toughness = new MageInt(3);°Ïthis.addAbility(FlyingAbility.getInstance());°ÏAbility ability = new EntersBattlefieldTriggeredAbility(new BalustradeSpyEffect(), false);°Ïability.addTarget(new TargetPlayer());°Ïthis.addAbility(ability);°Ï}°Ïpublic BalustradeSpy(final BalustradeSpy card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic BalustradeSpy copy() {°Ïreturn new BalustradeSpy(this);°Ï}°Ï}°Ïclass BalustradeSpyEffect extends OneShotEffect {°Ïpublic BalustradeSpyEffect() {°Ïsuper(Outcome.Discard);°Ïthis.staticText = "target player reveals cards from the top of his or her library until he or she reveals a land card, then puts those cards into his or her graveyard";°Ï}°Ïpublic BalustradeSpyEffect(final BalustradeSpyEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic BalustradeSpyEffect copy() {°Ïreturn new BalustradeSpyEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer controller = game.getPlayer(getTargetPointer().getFirst(game, source));°ÏMageObject sourceObject = source.getSourceObject(game);°Ïif (controller == null || sourceObject == null) {°Ïreturn false;°Ï}°ÏCardsImpl cards = new CardsImpl();°Ïboolean landFound = false;°Ïwhile (controller.getLibrary().size() > 0 && !landFound) {°ÏCard card = controller.getLibrary().removeFromTop(game);°Ïif (card != null) {°Ïcards.add(card);°Ïif (card.getCardType().contains(CardType.LAND)) {°ÏlandFound = true;°Ï}°Ï}°Ï}°Ïif (!cards.isEmpty()) {°Ïcontroller.revealCards(sourceObject.getName(), cards, game);°Ïcontroller.moveCards(cards, Zone.LIBRARY, Zone.GRAVEYARD, source, game);°Ïreturn true;°Ï}°Ïreturn true;°Ï}°Ï}°Ï
