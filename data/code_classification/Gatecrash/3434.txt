public class NightveilSpecter extends CardImpl {°Ïpublic NightveilSpecter(UUID ownerId) {°Ïsuper(ownerId, 222, "Nightveil Specter", Rarity.RARE, new CardType[]{CardType.CREATURE}, "{U/B}{U/B}{U/B}");°Ïthis.expansionSetCode = "GTC";°Ïthis.subtype.add("Specter");°Ïthis.power = new MageInt(2);°Ïthis.toughness = new MageInt(3);°Ïthis.addAbility(FlyingAbility.getInstance());°Ïthis.addAbility(new DealsDamageToAPlayerTriggeredAbility(new NightveilSpecterExileEffect(),false, true));°Ïthis.addAbility(new SimpleStaticAbility(Zone.BATTLEFIELD, new NightveilSpecterEffect()));°Ï}°Ïpublic NightveilSpecter(final NightveilSpecter card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic NightveilSpecter copy() {°Ïreturn new NightveilSpecter(this);°Ï}°Ï}°Ïclass NightveilSpecterExileEffect extends OneShotEffect {°Ïpublic NightveilSpecterExileEffect() {°Ïsuper(Outcome.Discard);°ÏstaticText = "that player exiles the top card of his or her library";°Ï}°Ïpublic NightveilSpecterExileEffect(final NightveilSpecterExileEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer player = game.getPlayer(targetPointer.getFirst(game, source));°Ïif (player != null) {°ÏCard card = player.getLibrary().removeFromTop(game);°ÏMageObject sourceObject = game.getObject(source.getSourceId());°Ïif (card != null && sourceObject != null) {°Ïplayer.moveCardToExileWithInfo(card, CardUtil.getCardExileZoneId(game, source), sourceObject.getIdName(), source.getSourceId(), game, Zone.LIBRARY, true);°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic NightveilSpecterExileEffect copy() {°Ïreturn new NightveilSpecterExileEffect(this);°Ï}°Ï}°Ïclass NightveilSpecterEffect extends AsThoughEffectImpl {°Ïpublic NightveilSpecterEffect() {°Ïsuper(AsThoughEffectType.PLAY_FROM_NOT_OWN_HAND_ZONE, Duration.EndOfGame, Outcome.Benefit);°ÏstaticText = "You may play cards exiled with {this}";°Ï}°Ïpublic NightveilSpecterEffect(final NightveilSpecterEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°Ïreturn true;°Ï}°Ï@Override°Ïpublic NightveilSpecterEffect copy() {°Ïreturn new NightveilSpecterEffect(this);°Ï}°Ï@Override°Ïpublic boolean applies(UUID objectId, Ability source, UUID affectedControllerId, Game game) {°ÏCard card = game.getCard(objectId);°Ïif (affectedControllerId.equals(source.getControllerId()) && card != null && game.getState().getZone(card.getId()) == Zone.EXILED) {°ÏExileZone zone = game.getExile().getExileZone(CardUtil.getCardExileZoneId(game, source));°Ïreturn zone != null && zone.contains(card.getId());°Ï}°Ïreturn false;°Ï}°Ï}°Ï
