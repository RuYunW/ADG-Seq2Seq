public class HellkiteTyrant extends CardImpl {°Ïpublic HellkiteTyrant(UUID ownerId) {°Ïsuper(ownerId, 94, "Hellkite Tyrant", Rarity.MYTHIC, new CardType[]{CardType.CREATURE}, "{4}{R}{R}");°Ïthis.expansionSetCode = "GTC";°Ïthis.subtype.add("Dragon");°Ïthis.power = new MageInt(6);°Ïthis.toughness = new MageInt(5);°Ïthis.addAbility(FlyingAbility.getInstance());°Ïthis.addAbility(TrampleAbility.getInstance());°Ïthis.addAbility(new DealsCombatDamageToAPlayerTriggeredAbility(new HellkiteTyrantEffect(), false, true));°ÏTriggeredAbility ability = new BeginningOfUpkeepTriggeredAbility(new WinGameSourceControllerEffect(), TargetController.YOU, false);°Ïthis.addAbility(new ConditionalTriggeredAbility(°Ïability,°Ïnew PermanentsOnTheBattlefieldCondition(new FilterArtifactPermanent(), PermanentsOnTheBattlefieldCondition.CountType.MORE_THAN, 19),°Ï"At the beginning of your upkeep, if you control twenty or more artifacts, you win the game."));°Ï}°Ïpublic HellkiteTyrant(final HellkiteTyrant card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic HellkiteTyrant copy() {°Ïreturn new HellkiteTyrant(this);°Ï}°Ï}°Ïclass HellkiteTyrantEffect extends OneShotEffect {°Ïpublic HellkiteTyrantEffect() {°Ïsuper(Outcome.GainControl);°Ïthis.staticText = "gain control of all artifacts that player controls";°Ï}°Ïpublic HellkiteTyrantEffect(final HellkiteTyrantEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic HellkiteTyrantEffect copy() {°Ïreturn new HellkiteTyrantEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer player = game.getPlayer(getTargetPointer().getFirst(game, source));°Ïif (player == null) {°Ïreturn false;°Ï}°ÏFilterPermanent filter = new FilterArtifactPermanent();°Ïfilter.add(new ControllerIdPredicate(player.getId()));°ÏList<Permanent> permanents = game.getBattlefield().getActivePermanents(filter, source.getControllerId(), game);°Ïfor (Permanent permanent : permanents) {°ÏContinuousEffect effect = new HellkiteTyrantControlEffect(source.getControllerId());°Ïeffect.setTargetPointer(new FixedTarget(permanent.getId()));°Ïgame.addEffect(effect, source);°Ï}°Ïreturn true;°Ï}°Ï}°Ïclass HellkiteTyrantControlEffect extends ContinuousEffectImpl {°Ïprivate final UUID controllerId;°Ïpublic HellkiteTyrantControlEffect(UUID controllerId) {°Ïsuper(Duration.EndOfGame, Layer.ControlChangingEffects_2, SubLayer.NA, Outcome.GainControl);°Ïthis.controllerId = controllerId;°Ï}°Ïpublic HellkiteTyrantControlEffect(final HellkiteTyrantControlEffect effect) {°Ïsuper(effect);°Ïthis.controllerId = effect.controllerId;°Ï}°Ï@Override°Ïpublic HellkiteTyrantControlEffect copy() {°Ïreturn new HellkiteTyrantControlEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPermanent permanent = game.getPermanent(targetPointer.getFirst(game, source));°Ïif (permanent != null && controllerId != null) {°Ïreturn permanent.changeControllerId(controllerId, game);°Ï}°Ïdiscard();°Ïreturn false;°Ï}°Ï}°Ï
