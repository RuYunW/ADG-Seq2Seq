public class DevourFlesh extends CardImpl {°Ïpublic DevourFlesh (UUID ownerId) {°Ïsuper(ownerId, 63, "Devour Flesh", Rarity.COMMON, new CardType[]{CardType.INSTANT}, "{1}{B}");°Ïthis.expansionSetCode = "GTC";°Ïthis.getSpellAbility().addEffect(new DevourFleshSacrificeEffect());°Ïthis.getSpellAbility().addTarget(new TargetPlayer());°Ï}°Ïpublic DevourFlesh(final DevourFlesh card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic DevourFlesh copy() {°Ïreturn new DevourFlesh(this);°Ï}°Ï}°Ïclass DevourFleshSacrificeEffect extends OneShotEffect {°Ïpublic DevourFleshSacrificeEffect() {°Ïsuper(Outcome.Sacrifice);°Ïthis.staticText = "Target player sacrifices a creature, then gains life equal to that creature's toughness";°Ï}°Ïpublic DevourFleshSacrificeEffect(final DevourFleshSacrificeEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic DevourFleshSacrificeEffect copy() {°Ïreturn new DevourFleshSacrificeEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer player = game.getPlayer(targetPointer.getFirst(game, source));°Ïif (player == null) {°Ïreturn false;°Ï}°ÏFilterControlledCreaturePermanent filter = new FilterControlledCreaturePermanent();°Ïint realCount = game.getBattlefield().countAll(filter, player.getId(), game);°Ïif (realCount > 0) {°ÏTarget target = new TargetControlledPermanent(1, 1, filter, true);°Ïwhile (player.canRespond() && !target.isChosen() && target.canChoose(player.getId(), game)) {°Ïplayer.chooseTarget(Outcome.Sacrifice, target, source, game);°Ï}°ÏPermanent permanent = game.getPermanent(target.getFirstTarget());°Ïif (permanent != null) {°Ïint gainLife = permanent.getToughness().getValue();°Ïpermanent.sacrifice(source.getSourceId(), game);°Ïplayer.gainLife(gainLife, game);°Ï} else{°Ïreturn false;°Ï}°Ï}°Ïreturn true;°Ï}°Ï}°Ï
