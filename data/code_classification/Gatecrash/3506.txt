public class VizkopaGuildmage extends CardImpl {°Ïpublic VizkopaGuildmage(UUID ownerId) {°Ïsuper(ownerId, 206, "Vizkopa Guildmage", Rarity.UNCOMMON, new CardType[]{CardType.CREATURE}, "{W}{B}");°Ïthis.expansionSetCode = "GTC";°Ïthis.subtype.add("Human");°Ïthis.subtype.add("Wizard");°Ïthis.power = new MageInt(2);°Ïthis.toughness = new MageInt(2);°ÏAbility ability = new SimpleActivatedAbility(Zone.BATTLEFIELD, new GainAbilityTargetEffect(LifelinkAbility.getInstance(), Duration.EndOfTurn),new ManaCostsImpl("{1}{W}{B}"));°Ïability.addTarget(new TargetCreaturePermanent());°Ïthis.addAbility(ability);°Ïthis.addAbility(new SimpleActivatedAbility(Zone.BATTLEFIELD, new CreateDelayedTriggeredAbilityEffect(new VizkopaGuildmageDelayedTriggeredAbility()), new ManaCostsImpl("{1}{W}{B}")));°Ï}°Ïpublic VizkopaGuildmage(final VizkopaGuildmage card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic VizkopaGuildmage copy() {°Ïreturn new VizkopaGuildmage(this);°Ï}°Ï}°Ïclass VizkopaGuildmageDelayedTriggeredAbility extends DelayedTriggeredAbility {°Ïpublic VizkopaGuildmageDelayedTriggeredAbility() {°Ïsuper(new OpponentsLoseLifeEffect(), Duration.EndOfTurn, false);°Ï}°Ïpublic VizkopaGuildmageDelayedTriggeredAbility(VizkopaGuildmageDelayedTriggeredAbility ability) {°Ïsuper(ability);°Ï}°Ï@Override°Ïpublic boolean checkEventType(GameEvent event, Game game) {°Ïreturn event.getType() == EventType.GAINED_LIFE;°Ï}°Ï@Override°Ïpublic boolean checkTrigger(GameEvent event, Game game) {°Ïif (event.getTargetId().equals(controllerId)) {°ÏgetEffects().get(0).setValue("amountLifeGained", event.getAmount());°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic VizkopaGuildmageDelayedTriggeredAbility copy() {°Ïreturn new VizkopaGuildmageDelayedTriggeredAbility(this);°Ï}°Ï@Override°Ïpublic String getRule() {°Ïreturn "Whenever you gain life this turn, " + modes.getText();°Ï}°Ï}°Ïclass OpponentsLoseLifeEffect extends OneShotEffect {°Ïpublic OpponentsLoseLifeEffect() {°Ïsuper(Outcome.Damage);°Ïthis.staticText = "each opponent loses that much life";°Ï}°Ïpublic OpponentsLoseLifeEffect(final OpponentsLoseLifeEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic OpponentsLoseLifeEffect copy() {°Ïreturn new OpponentsLoseLifeEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏInteger amountLifeGained = (Integer) this.getValue("amountLifeGained");°Ïif (amountLifeGained != null ) {°Ïfor (UUID opponentId: game.getOpponents(source.getControllerId())) {°ÏPlayer opponent = game.getPlayer(opponentId);°Ïif (opponent != null) {°Ïopponent.loseLife(amountLifeGained, game);°Ï}°Ï}°Ï}°Ïreturn false;°Ï}°Ï}°Ï
