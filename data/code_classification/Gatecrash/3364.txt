public class EnterTheInfinite extends CardImpl {°Ïpublic EnterTheInfinite(UUID ownerId) {°Ïsuper(ownerId, 34, "Enter the Infinite", Rarity.MYTHIC, new CardType[]{CardType.SORCERY}, "{8}{U}{U}{U}{U}");°Ïthis.expansionSetCode = "GTC";°Ïthis.getSpellAbility().addEffect(new DrawCardSourceControllerEffect(new CardsInControllerLibraryCount()));°Ïthis.getSpellAbility().addEffect(new PutCardOnLibraryEffect());°Ïthis.getSpellAbility().addEffect(new MaximumHandSizeEffect());°Ï}°Ïpublic EnterTheInfinite(final EnterTheInfinite card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic EnterTheInfinite copy() {°Ïreturn new EnterTheInfinite(this);°Ï}°Ï}°Ïclass CardsInControllerLibraryCount implements DynamicValue {°Ï@Override°Ïpublic int calculate(Game game, Ability sourceAbility, Effect effect) {°Ïif (sourceAbility != null) {°ÏPlayer controller = game.getPlayer(sourceAbility.getControllerId());°Ïif (controller != null) {°Ïreturn controller.getLibrary().size();°Ï}°Ï}°Ïreturn 0;°Ï}°Ï@Override°Ïpublic DynamicValue copy() {°Ïreturn new CardsInControllerLibraryCount();°Ï}°Ï@Override°Ïpublic String getMessage() {°Ïreturn "card in your library";°Ï}°Ï@Override°Ïpublic String toString() {°Ïreturn "1";°Ï}°Ï}°Ïclass PutCardOnLibraryEffect extends OneShotEffect {°Ïpublic PutCardOnLibraryEffect() {°Ïsuper(Outcome.DrawCard);°ÏstaticText = "Then put a card from your hand on top of your library";°Ï}°Ïpublic PutCardOnLibraryEffect(final PutCardOnLibraryEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic PutCardOnLibraryEffect copy() {°Ïreturn new PutCardOnLibraryEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°ÏPlayer controller = game.getPlayer(source.getControllerId());°Ïif (controller != null) {°ÏTargetCardInHand target = new TargetCardInHand();°Ïcontroller.chooseTarget(Outcome.ReturnToHand, target, source, game);°ÏCard card = controller.getHand().get(target.getFirstTarget(), game);°Ïif (card != null) {°Ïcontroller.putCardsOnTopOfLibrary(new CardsImpl(card), game, source, false);°Ï}°Ïreturn true;°Ï}°Ïreturn false;°Ï}°Ï}°Ïclass MaximumHandSizeEffect extends MaximumHandSizeControllerEffect {°Ïpublic MaximumHandSizeEffect() {°Ïsuper(Integer.MAX_VALUE, Duration.Custom, MaximumHandSizeControllerEffect.HandSizeModification.SET);°ÏstaticText = "You have no maximum hand size until your next turn";°Ï}°Ïpublic MaximumHandSizeEffect(final MaximumHandSizeEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic boolean isInactive(Ability source, Game game) {°Ïif (game.getPhase().getStep().getType() == PhaseStep.UNTAP && game.getStep().getStepPart() == Step.StepPart.PRE) {°Ïif (game.getActivePlayerId().equals(source.getControllerId())) {°Ïreturn true;°Ï}°Ï}°Ïreturn false;°Ï}°Ï@Override°Ïpublic MaximumHandSizeEffect copy() {°Ïreturn new MaximumHandSizeEffect(this);°Ï}°Ï}°Ï
