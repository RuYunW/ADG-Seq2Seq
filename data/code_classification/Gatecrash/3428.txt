public class MoltenPrimordial extends CardImpl {°Ïpublic MoltenPrimordial(UUID ownerId) {°Ïsuper(ownerId, 101, "Molten Primordial", Rarity.RARE, new CardType[]{CardType.CREATURE}, "{5}{R}{R}");°Ïthis.expansionSetCode = "GTC";°Ïthis.subtype.add("Avatar");°Ïthis.power = new MageInt(6);°Ïthis.toughness = new MageInt(4);°Ïthis.addAbility(HasteAbility.getInstance());°Ïthis.addAbility(new EntersBattlefieldTriggeredAbility(new MoltenPrimordialEffect(),false));°Ï}°Ï@Override°Ïpublic void adjustTargets(Ability ability, Game game) {°Ïif (ability instanceof EntersBattlefieldTriggeredAbility) {°Ïability.getTargets().clear();°Ïfor(UUID opponentId : game.getOpponents(ability.getControllerId())) {°ÏPlayer opponent = game.getPlayer(opponentId);°Ïif (opponent != null) {°ÏFilterCreaturePermanent filter = new FilterCreaturePermanent("creature from opponent " + opponent.getLogName());°Ïfilter.add(new ControllerIdPredicate(opponentId));°ÏTargetCreaturePermanent target = new TargetCreaturePermanent(0,1, filter,false);°Ïability.addTarget(target);°Ï}°Ï}°Ï}°Ï}°Ïpublic MoltenPrimordial(final MoltenPrimordial card) {°Ïsuper(card);°Ï}°Ï@Override°Ïpublic MoltenPrimordial copy() {°Ïreturn new MoltenPrimordial(this);°Ï}°Ï}°Ïclass MoltenPrimordialEffect extends OneShotEffect {°Ïpublic MoltenPrimordialEffect() {°Ïsuper(Outcome.GainControl);°Ïthis.staticText = "for each opponent, take control of up to one target creature that player controls until end of turn. Untap those creatures. They have haste until end of turn";°Ï}°Ïpublic MoltenPrimordialEffect(final MoltenPrimordialEffect effect) {°Ïsuper(effect);°Ï}°Ï@Override°Ïpublic MoltenPrimordialEffect copy() {°Ïreturn new MoltenPrimordialEffect(this);°Ï}°Ï@Override°Ïpublic boolean apply(Game game, Ability source) {°Ïboolean result = false;°Ïfor (Target target: source.getTargets()) {°Ïif (target instanceof TargetCreaturePermanent) {°ÏPermanent targetCreature = game.getPermanent(target.getFirstTarget());°Ïif (targetCreature != null) {°ÏContinuousEffect effect1 = new GainControlTargetEffect(Duration.EndOfTurn);°Ïeffect1.setTargetPointer(new FixedTarget(targetCreature.getId()));°Ïgame.addEffect(effect1, source);°ÏContinuousEffect effect2 = new GainAbilityTargetEffect(HasteAbility.getInstance(), Duration.EndOfTurn);°Ïeffect2.setTargetPointer(new FixedTarget(targetCreature.getId()));°Ïgame.addEffect(effect2, source);°ÏtargetCreature.untap(game);°Ïresult = true;°Ï}°Ï}°Ï}°Ïreturn result;°Ï}°Ï}°Ï
